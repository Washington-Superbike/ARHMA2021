<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Superbike Firmware: PreCharge.ino File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Superbike Firmware
   </div>
   <div id="projectbrief">Firmware for ARHMA Race 2023</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">PreCharge.ino File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="_data_logging_8h.html" title="The DataLogging.h config file for CAN bus for the bike&#39;s firmware. This initializes all variables tha...">DataLogging.h</a> config file for CAN bus for the bike's firmware. This initializes all variables that are passed along to all other files as pointers. Then it runs the setup methods for all those files and then it sets up RTOS to run all the different files as individual tasks. These tasks are: datalogging, display, precharge, CAN, idle. These tasks will be further described in the documentation for their individual files.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_precharge_8h_source.html">Precharge.h</a>&quot;</code><br />
<code>#include &lt;Wire.h&gt;</code><br />
</div>
<p><a href="_pre_charge_8ino_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2cd6f5c27d7667dbd0b6a0bc756340a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#a2cd6f5c27d7667dbd0b6a0bc756340a3">prechargeTask</a> (void *taskData)</td></tr>
<tr class="separator:a2cd6f5c27d7667dbd0b6a0bc756340a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5e3efaa785dcd1d9143ec7e5d117277"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#ad5e3efaa785dcd1d9143ec7e5d117277">preChargeCircuitFSMTransitions</a> (<a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:ad5e3efaa785dcd1d9143ec7e5d117277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2376a25ab645f00587791af3c89968e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#ad2376a25ab645f00587791af3c89968e">preChargeCircuitFSMStateActions</a> (<a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:ad2376a25ab645f00587791af3c89968e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b25fa6ccd2c8d82ba24c5ed4aaa7d1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#a42b25fa6ccd2c8d82ba24c5ed4aaa7d1">isPrecharged</a> (<a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:a42b25fa6ccd2c8d82ba24c5ed4aaa7d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65867cb936f7ef47ffd07fbfd4a91355"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#a65867cb936f7ef47ffd07fbfd4a91355">isHVSafe</a> (<a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:a65867cb936f7ef47ffd07fbfd4a91355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6798f4bd0a5b6353886f894b38b32473"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#a6798f4bd0a5b6353886f894b38b32473">check_HV_TOGGLE</a> ()</td></tr>
<tr class="separator:a6798f4bd0a5b6353886f894b38b32473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a3e1d4e80c1320d3308a0e0bb10ac87"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#a0a3e1d4e80c1320d3308a0e0bb10ac87">state_name</a> (<a class="el" href="_precharge_8h.html#a5faacefaff4b0ce77f1f8be0bf2aaf29">HV_STATE</a> state)</td></tr>
<tr class="separator:a0a3e1d4e80c1320d3308a0e0bb10ac87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5782bd590f95fb2269eb43a3d70c18f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#a5782bd590f95fb2269eb43a3d70c18f4">setupI2C</a> (<a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:a5782bd590f95fb2269eb43a3d70c18f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8511ef84de5112bd6beb8e3ac5fff67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#ad8511ef84de5112bd6beb8e3ac5fff67">gyro_signals</a> (<a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:ad8511ef84de5112bd6beb8e3ac5fff67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87184d718be6821c71e697fc1fd98d3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#a87184d718be6821c71e697fc1fd98d3b">updateGyroData</a> (<a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:a87184d718be6821c71e697fc1fd98d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade8f654468b951602d2622b34902944f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_pre_charge_8ino.html#ade8f654468b951602d2622b34902944f">kalman_1d</a> (float KalmanState, float KalmanUncertainty, float KalmanInput, float KalmanMeasurement, <a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a> <a class="el" href="_main_8h.html#a695dccac97a0f45cf570237e981b2b5d">preChargeData</a>)</td></tr>
<tr class="separator:ade8f654468b951602d2622b34902944f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The <a class="el" href="_data_logging_8h.html" title="The DataLogging.h config file for CAN bus for the bike&#39;s firmware. This initializes all variables tha...">DataLogging.h</a> config file for CAN bus for the bike's firmware. This initializes all variables that are passed along to all other files as pointers. Then it runs the setup methods for all those files and then it sets up RTOS to run all the different files as individual tasks. These tasks are: datalogging, display, precharge, CAN, idle. These tasks will be further described in the documentation for their individual files. </p>
<dl class="section author"><dt>Author</dt><dd>Washington Superbike </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1-March-2023</dd></dl>
<dl class="section note"><dt>Note</dt><dd>up all members to be able to use it without any trouble.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>Goal 1. <br  />
 <br  />
 Goal 2. <br  />
 <br  />
 Goal 3. <br  />
 <br  />
 Final Goal. </dd></dl>

<p class="definition">Definition in file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6798f4bd0a5b6353886f894b38b32473" name="a6798f4bd0a5b6353886f894b38b32473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6798f4bd0a5b6353886f894b38b32473">&#9670;&nbsp;</a></span>check_HV_TOGGLE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_HV_TOGGLE </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00190">190</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="ad8511ef84de5112bd6beb8e3ac5fff67" name="ad8511ef84de5112bd6beb8e3ac5fff67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8511ef84de5112bd6beb8e3ac5fff67">&#9670;&nbsp;</a></span>gyro_signals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gyro_signals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00232">232</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="a65867cb936f7ef47ffd07fbfd4a91355" name="a65867cb936f7ef47ffd07fbfd4a91355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65867cb936f7ef47ffd07fbfd4a91355">&#9670;&nbsp;</a></span>isHVSafe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isHVSafe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00169">169</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="a42b25fa6ccd2c8d82ba24c5ed4aaa7d1" name="a42b25fa6ccd2c8d82ba24c5ed4aaa7d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42b25fa6ccd2c8d82ba24c5ed4aaa7d1">&#9670;&nbsp;</a></span>isPrecharged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool isPrecharged </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00154">154</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="ade8f654468b951602d2622b34902944f" name="ade8f654468b951602d2622b34902944f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade8f654468b951602d2622b34902944f">&#9670;&nbsp;</a></span>kalman_1d()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kalman_1d </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>KalmanState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>KalmanUncertainty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>KalmanInput</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>KalmanMeasurement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00321">321</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="ad2376a25ab645f00587791af3c89968e" name="ad2376a25ab645f00587791af3c89968e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2376a25ab645f00587791af3c89968e">&#9670;&nbsp;</a></span>preChargeCircuitFSMStateActions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void preChargeCircuitFSMStateActions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00130">130</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="ad5e3efaa785dcd1d9143ec7e5d117277" name="ad5e3efaa785dcd1d9143ec7e5d117277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e3efaa785dcd1d9143ec7e5d117277">&#9670;&nbsp;</a></span>preChargeCircuitFSMTransitions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void preChargeCircuitFSMTransitions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00070">70</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="a2cd6f5c27d7667dbd0b6a0bc756340a3" name="a2cd6f5c27d7667dbd0b6a0bc756340a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cd6f5c27d7667dbd0b6a0bc756340a3">&#9670;&nbsp;</a></span>prechargeTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prechargeTask </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>taskData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00056">56</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="a5782bd590f95fb2269eb43a3d70c18f4" name="a5782bd590f95fb2269eb43a3d70c18f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5782bd590f95fb2269eb43a3d70c18f4">&#9670;&nbsp;</a></span>setupI2C()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setupI2C </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00203">203</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="a0a3e1d4e80c1320d3308a0e0bb10ac87" name="a0a3e1d4e80c1320d3308a0e0bb10ac87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a3e1d4e80c1320d3308a0e0bb10ac87">&#9670;&nbsp;</a></span>state_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * state_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_precharge_8h.html#a5faacefaff4b0ce77f1f8be0bf2aaf29">HV_STATE</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00194">194</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
<a id="a87184d718be6821c71e697fc1fd98d3b" name="a87184d718be6821c71e697fc1fd98d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87184d718be6821c71e697fc1fd98d3b">&#9670;&nbsp;</a></span>updateGyroData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateGyroData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_pre_charge_task_data.html">PreChargeTaskData</a>&#160;</td>
          <td class="paramname"><em>preChargeData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_pre_charge_8ino_source.html#l00299">299</a> of file <a class="el" href="_pre_charge_8ino_source.html">PreCharge.ino</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
