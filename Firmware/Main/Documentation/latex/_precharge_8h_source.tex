\hypertarget{_precharge_8h_source}{}\doxysection{Precharge.\+h}
\mbox{\hyperlink{_precharge_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00001}00001 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00026}00026 \textcolor{preprocessor}{\#ifndef \_PRECHARGE\_H\_}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00027}00027 \textcolor{preprocessor}{\#define \_PRECHARGE\_H\_}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00029}00029 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_free_r_t_o_s___t_e_e_n_s_y4_8h}{FreeRTOS\_TEENSY4.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00031}\mbox{\hyperlink{_precharge_8h_a0ea5dd53294d533feaeeb8731cb9739a}{00031}} \textcolor{preprocessor}{\#define PRECHARGE\_TASK\_STACK\_SIZE configMINIMAL\_STACK\_SIZE + 4096}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00032}00032 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00034}\mbox{\hyperlink{_precharge_8h_ae1099ac76283225ff2bbbbdc0819ba4e}{00034}} \textcolor{preprocessor}{\#define CONTACTOR 16}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00036}\mbox{\hyperlink{_precharge_8h_a093dd273c900bae9cba2b32149e30eaa}{00036}} \textcolor{preprocessor}{\#define PRECHARGE 17}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00038}\mbox{\hyperlink{_precharge_8h_a4e1dc017df18faad4234012c3e88d2f6}{00038}} \textcolor{preprocessor}{\#define HIGH\_VOLTAGE\_TOGGLE 15}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00040}\mbox{\hyperlink{_precharge_8h_a6f82f95bb8a6ffac8f6998ff4e5e16ec}{00040}} \textcolor{preprocessor}{\#define CLOSE\_CONTACTOR\_BUTTON 14}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00042}\mbox{\hyperlink{_precharge_8h_a0985e25d7f0cd7e7101c2f20c1cf8e02}{00042}} \textcolor{preprocessor}{\#define CONTACTOR\_PRECHARGED\_LED 18}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00044}\mbox{\hyperlink{_precharge_8h_a606b28f262c8b6842a36e2f68cfc327a}{00044}} \textcolor{preprocessor}{\#define CONTACTOR\_CLOSED\_LED 19}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00046}\mbox{\hyperlink{_precharge_8h_a3d7443dc1d0d423a961f907584dfd19e}{00046}} \textcolor{preprocessor}{\#define NUMBER\_OF\_LTCS 20}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00049}\mbox{\hyperlink{_precharge_8h_a1f9513787cfe256aae379719ab26ca39}{00049}} \textcolor{preprocessor}{\#define MOTORCONTROLLER\_TEMP\_MAX 65}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00052}\mbox{\hyperlink{_precharge_8h_aa39f17be3d8f2f799f7fbd0dc01963db}{00052}} \textcolor{preprocessor}{\#define MOTOR\_TEMP\_MAX 80}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00053}00053 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00055}\mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29a2303713b8a2ce365abb6b0de95c38595}{00055}} \textcolor{keyword}{enum} \mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29}{HV\_STATE}} \{\mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29abc9f85ed087d13faf9b1c463431ee66a}{HV\_OFF}} , \mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29a2da9fa3988c31a60d94ee2a751ba32ce}{HV\_PRECHARGING}}, \mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29ab5febf14562b68ff6bdaaa86ec9b5dec}{HV\_ON}}, \mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29a2303713b8a2ce365abb6b0de95c38595}{HV\_ERROR}}\};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00063}\mbox{\hyperlink{struct_pre_charge_task_data}{00063}} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00064}\mbox{\hyperlink{struct_pre_charge_task_data_a0dff65dcdc2df79dddc5bcf2ff491c2d}{00064}}   \mbox{\hyperlink{struct_b_m_s_status}{BMSStatus}} \mbox{\hyperlink{struct_pre_charge_task_data_a0dff65dcdc2df79dddc5bcf2ff491c2d}{bmsStatus}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00065}\mbox{\hyperlink{struct_pre_charge_task_data_a3e8e3c4386b66dbf1011082b1f8ce7aa}{00065}}   \mbox{\hyperlink{struct_motor_temps}{MotorTemps}} \mbox{\hyperlink{struct_pre_charge_task_data_a3e8e3c4386b66dbf1011082b1f8ce7aa}{motorTemps}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00066}\mbox{\hyperlink{struct_pre_charge_task_data_afdfc29c3040101593d7d298c7b432132}{00066}}   \mbox{\hyperlink{struct_cell_voltages}{CellVoltages}} \mbox{\hyperlink{struct_pre_charge_task_data_afdfc29c3040101593d7d298c7b432132}{cellVoltages}}; \textcolor{comment}{// from the main accumulator}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00067}\mbox{\hyperlink{struct_pre_charge_task_data_aae4496a1b8d72f6107bdfcf81472741b}{00067}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_aae4496a1b8d72f6107bdfcf81472741b}{motorControllerBatteryVoltage}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00068}\mbox{\hyperlink{struct_pre_charge_task_data_a53289d52f48c067285cb843ef7470c9a}{00068}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a53289d52f48c067285cb843ef7470c9a}{angle\_X}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00069}\mbox{\hyperlink{struct_pre_charge_task_data_a7a48fc6887285d4cb55bff65fca23f36}{00069}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a7a48fc6887285d4cb55bff65fca23f36}{angle\_Y}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00070}\mbox{\hyperlink{struct_pre_charge_task_data_a33b675970bf11d7e27edf3b542431997}{00070}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a33b675970bf11d7e27edf3b542431997}{RateRoll}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00071}\mbox{\hyperlink{struct_pre_charge_task_data_afc133d30f22f7a7f72ee498b3d69be82}{00071}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_afc133d30f22f7a7f72ee498b3d69be82}{RatePitch}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00072}\mbox{\hyperlink{struct_pre_charge_task_data_aaf5cdfb5b1dd1857d4082f3a014ffb51}{00072}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_aaf5cdfb5b1dd1857d4082f3a014ffb51}{RateYaw}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00074}\mbox{\hyperlink{struct_pre_charge_task_data_a4d7799e4a73f6488e3296c35f66c2e30}{00074}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a4d7799e4a73f6488e3296c35f66c2e30}{RateCalibrationRoll}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00075}\mbox{\hyperlink{struct_pre_charge_task_data_a80f6f899a8c9d6b3e7850f52350a414d}{00075}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a80f6f899a8c9d6b3e7850f52350a414d}{RateCalibrationPitch}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00076}\mbox{\hyperlink{struct_pre_charge_task_data_aa0d6bb3b938787ae1de06d67d1e3deaf}{00076}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_aa0d6bb3b938787ae1de06d67d1e3deaf}{RateCalibrationYaw}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00078}\mbox{\hyperlink{struct_pre_charge_task_data_ab12a4f264d6acfdf84ce67728ecb42b2}{00078}}   \textcolor{keywordtype}{int}* \mbox{\hyperlink{struct_pre_charge_task_data_ab12a4f264d6acfdf84ce67728ecb42b2}{RateCalibrationNumber}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00079}\mbox{\hyperlink{struct_pre_charge_task_data_a3c051d79159770c924eda82743ba8d81}{00079}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a3c051d79159770c924eda82743ba8d81}{AccX}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00080}\mbox{\hyperlink{struct_pre_charge_task_data_a80f0e6e50839ffb0fc6d04cd3d871a3f}{00080}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a80f0e6e50839ffb0fc6d04cd3d871a3f}{AccY}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00081}\mbox{\hyperlink{struct_pre_charge_task_data_a3bb9585d2c3e9ee02ed1f98f706426b3}{00081}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a3bb9585d2c3e9ee02ed1f98f706426b3}{AccZ}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00082}\mbox{\hyperlink{struct_pre_charge_task_data_a99d4f80bc2e399c388039183debf146a}{00082}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a99d4f80bc2e399c388039183debf146a}{AngleRoll}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00083}\mbox{\hyperlink{struct_pre_charge_task_data_a4bb0f04e326928d80e286b279ca81003}{00083}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a4bb0f04e326928d80e286b279ca81003}{AnglePitch}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00085}\mbox{\hyperlink{struct_pre_charge_task_data_a6710c3c13016f4d3127232fce1782ad2}{00085}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a6710c3c13016f4d3127232fce1782ad2}{KalmanAngleRoll}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00086}\mbox{\hyperlink{struct_pre_charge_task_data_a56b12f35d375a77d39a5067b35701ec6}{00086}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a56b12f35d375a77d39a5067b35701ec6}{KalmanUncertaintyAngleRoll}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00087}\mbox{\hyperlink{struct_pre_charge_task_data_a21d75327dbefd085bb4e809b589e0dec}{00087}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a21d75327dbefd085bb4e809b589e0dec}{KalmanAnglePitch}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00088}\mbox{\hyperlink{struct_pre_charge_task_data_a87db2a0a7add2863f02e490544f937b2}{00088}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a87db2a0a7add2863f02e490544f937b2}{KalmanUncertaintyAnglePitch}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00089}\mbox{\hyperlink{struct_pre_charge_task_data_a4ca4aeeb66f8fa86b2b33287d78f8174}{00089}}   \textcolor{keywordtype}{float}* \mbox{\hyperlink{struct_pre_charge_task_data_a4ca4aeeb66f8fa86b2b33287d78f8174}{Kalman1DOutput}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00090}00090 \} \mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00093}\mbox{\hyperlink{_precharge_8h_a5c9b1f4b5a31b5d46c45310567595867}{00093}} \mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29}{HV\_STATE}} \mbox{\hyperlink{_precharge_8h_a5c9b1f4b5a31b5d46c45310567595867}{hv\_state}} = \mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29abc9f85ed087d13faf9b1c463431ee66a}{HV\_OFF}};}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00095}\mbox{\hyperlink{_precharge_8h_a3a618d104e1f329b2aad074b706db5c9}{00095}} \textcolor{keywordtype}{void} \mbox{\hyperlink{_precharge_8h_a3a618d104e1f329b2aad074b706db5c9}{preChargeTask}}(\textcolor{keywordtype}{void} *taskData);}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00096}00096 \textcolor{keywordtype}{void} \mbox{\hyperlink{_precharge_8h_ad5e3efaa785dcd1d9143ec7e5d117277}{preChargeCircuitFSMTransitions}} (\mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00097}00097 \textcolor{keywordtype}{void} \mbox{\hyperlink{_precharge_8h_ad2376a25ab645f00587791af3c89968e}{preChargeCircuitFSMStateActions}} (\mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00098}00098 \textcolor{keywordtype}{bool} \mbox{\hyperlink{_precharge_8h_a42b25fa6ccd2c8d82ba24c5ed4aaa7d1}{isPrecharged}}(\mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00099}00099 \textcolor{keywordtype}{bool} \mbox{\hyperlink{_precharge_8h_a65867cb936f7ef47ffd07fbfd4a91355}{isHVSafe}}(\mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00100}00100 \textcolor{keywordtype}{bool} \mbox{\hyperlink{_precharge_8h_a6798f4bd0a5b6353886f894b38b32473}{check\_HV\_TOGGLE}}();}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00101}00101 \textcolor{keywordtype}{char}* \mbox{\hyperlink{_precharge_8h_a0a3e1d4e80c1320d3308a0e0bb10ac87}{state\_name}}(\mbox{\hyperlink{_precharge_8h_a5faacefaff4b0ce77f1f8be0bf2aaf29}{HV\_STATE}} state);}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00102}00102 \textcolor{comment}{// I2C Accelerometer/Gyroscope access methods}}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00103}00103 \textcolor{keywordtype}{void} \mbox{\hyperlink{_precharge_8h_a5782bd590f95fb2269eb43a3d70c18f4}{setupI2C}}(\mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00104}00104 \textcolor{keywordtype}{void} \mbox{\hyperlink{_precharge_8h_ad8511ef84de5112bd6beb8e3ac5fff67}{gyro\_signals}}(\mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00105}00105 \textcolor{keywordtype}{void} \mbox{\hyperlink{_precharge_8h_a87184d718be6821c71e697fc1fd98d3b}{updateGyroData}}(\mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00106}00106 \textcolor{keywordtype}{void} \mbox{\hyperlink{_precharge_8h_ade8f654468b951602d2622b34902944f}{kalman\_1d}}(\textcolor{keywordtype}{float} KalmanState, \textcolor{keywordtype}{float} KalmanUncertainty, \textcolor{keywordtype}{float} KalmanInput, \textcolor{keywordtype}{float} KalmanMeasurement, \mbox{\hyperlink{struct_pre_charge_task_data}{PreChargeTaskData}} \mbox{\hyperlink{_main_8h_a695dccac97a0f45cf570237e981b2b5d}{preChargeData}});}
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00107}00107 }
\DoxyCodeLine{\Hypertarget{_precharge_8h_source_l00108}00108 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_PRECHARGE\_H}}

\end{DoxyCode}
