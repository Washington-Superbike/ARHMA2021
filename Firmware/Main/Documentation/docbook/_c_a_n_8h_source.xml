<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__c_a_n_8h_source" xml:lang="en-US">
<title>CAN.h</title>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__c_a_n_8h_source_1l00001"/>00001 
<anchor xml:id="__c_a_n_8h_source_1l00023"/>00023 <emphasis role="preprocessor">#ifndef&#32;_CAN_H_</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00024"/>00024 <emphasis role="preprocessor">#define&#32;_CAN_H_</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00025"/>00025 <emphasis role="preprocessor">#include&#32;&lt;FlexCAN_T4.h&gt;</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00026"/>00026 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__display_8h">Display.h</link>&quot;</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00027"/>00027 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__free_r_t_o_s___t_e_e_n_s_y4_8h">FreeRTOS_TEENSY4.h</link>&quot;</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00028"/>00028 
<anchor xml:id="__c_a_n_8h_source_1l00029"/>00029 
<anchor xml:id="__c_a_n_8h_source_1l00030"/><link linkend="__c_a_n_8h_1ab9d0930315055c0f1a6511c6cc3c5524">00030</link> <emphasis role="preprocessor">#define&#32;CAN_TASK_STACK_SIZE&#32;configMINIMAL_STACK_SIZE&#32;+&#32;4096</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00031"/>00031 
<anchor xml:id="__c_a_n_8h_source_1l00032"/><link linkend="__c_a_n_8h_1a1b593ffe62c4590fa197331661393984">00032</link> <emphasis role="preprocessor">#define&#32;MOTOR_STATS_MSG&#32;0x0CF11E05&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//motor&#32;controller&#32;message&#32;-&#32;CAN</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00033"/><link linkend="__c_a_n_8h_1a464be4036d5c85f472f461fc987eb2da">00033</link> <emphasis role="preprocessor">#define&#32;MOTOR_TEMPS_MSG&#32;0x0CF11F05&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;motor&#32;controller&#32;message&#32;-&#32;CAN</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00034"/><link linkend="__c_a_n_8h_1ac7e658bcd09f49f37c7732ddc1c80fe2">00034</link> <emphasis role="preprocessor">#define&#32;EVCC_STATS&#32;0x18e54024&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;Charge&#32;controller&#32;status&#32;(current,volt...)</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00035"/><link linkend="__c_a_n_8h_1aaa765e2d2381f199ed620b8d6962f60d">00035</link> <emphasis role="preprocessor">#define&#32;CHARGER_STATS&#32;0x18eb2440&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;Thunderstruck&#32;Charger&#32;status&#32;(current,volt...)</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00036"/><link linkend="__c_a_n_8h_1a44d631b0f4e7e294bc26dd9c77d3dcb9">00036</link> <emphasis role="preprocessor">#define&#32;DD_BMS_STATUS_IND&#32;0x01dd0001&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;BMS&#32;cell&#32;data&#32;message&#32;(overvolt,undervolt...)</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00037"/><link linkend="__c_a_n_8h_1a5a71b982a71be6bc19546f4c8fecadd7">00037</link> <emphasis role="preprocessor">#define&#32;DD_BMSC_TH_STATUS_IND&#32;0x01df0e00&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;themistor&#32;values&#32;message</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00038"/><link linkend="__c_a_n_8h_1a366031af35039c965b2bb3ac07dd702a">00038</link> <emphasis role="preprocessor">#define&#32;BMSC1_LTC1_CELLS_04&#32;&#32;0x01df0900&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;convention:&#32;BMSC,&#32;LTC,&#32;CELL&#32;RANGE</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00039"/><link linkend="__c_a_n_8h_1a2da14593c5f2bdd4bc417f9e66bc2a75">00039</link> <emphasis role="preprocessor">#define&#32;BMSC1_LTC1_CELLS_58&#32;&#32;0x01df0a00</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00040"/><link linkend="__c_a_n_8h_1ac1908e8612424d72ae778e43759f077f">00040</link> <emphasis role="preprocessor">#define&#32;BMSC1_LTC1_CELLS_912&#32;0x01df0b00</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00041"/><link linkend="__c_a_n_8h_1a76c8bda430a00f369aed9309100c3107">00041</link> <emphasis role="preprocessor">#define&#32;BMSC1_LTC2_CELLS_04&#32;&#32;0x01df0901&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;convention:&#32;BMSC,&#32;LTC,&#32;CELL&#32;RANGE</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00042"/><link linkend="__c_a_n_8h_1aa605748f6dfeb5f3ba7b8b473a2f41b5">00042</link> <emphasis role="preprocessor">#define&#32;BMSC1_LTC2_CELLS_58&#32;&#32;0x01df0a01</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00043"/><link linkend="__c_a_n_8h_1af80d69aa4a06cbc8b1137773336f74ec">00043</link> <emphasis role="preprocessor">#define&#32;BMSC1_LTC2_CELLS_912&#32;0x01df0b01</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00044"/>00044 
<anchor xml:id="__c_a_n_8h_source_1l00045"/>00045 <emphasis role="comment">//&#32;this&#32;is&#32;set&#32;to&#32;24&#32;instead&#32;of&#32;20&#32;because&#32;the&#32;BMS&#32;sends&#32;cells&#32;in&#32;packs&#32;of&#32;12</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00046"/>00046 <emphasis role="comment">//&#32;so&#32;it&#32;makes&#32;the&#32;decipher&#32;function&#32;simpler</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00047"/><link linkend="__c_a_n_8h_1aedb50849ed846717c3096b10fb75d537">00047</link> <emphasis role="preprocessor">#define&#32;BMS_CELLS&#32;24&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;</emphasis><emphasis role="comment">//&#32;the&#32;number&#32;of&#32;cells&#32;connected&#32;to&#32;the&#32;main&#32;accumulator&#32;BMS</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00048"/>00048 
<anchor xml:id="__c_a_n_8h_source_1l00049"/>00049 <emphasis role="comment">//&#32;CAN&#32;bus&#32;handle</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00050"/><link linkend="__c_a_n_8h_1aa4303f5a4b2f41108b988f850270b2d1">00050</link> FlexCAN_T4&lt;CAN2,&#32;RX_SIZE_256,&#32;TX_SIZE_16&gt;&#32;<link linkend="__c_a_n_8h_1aa4303f5a4b2f41108b988f850270b2d1">CAN_bus</link>;
<anchor xml:id="__c_a_n_8h_source_1l00051"/>00051 
<anchor xml:id="__c_a_n_8h_source_1l00052"/>00052 <emphasis role="comment">//&#32;used&#32;to&#32;format&#32;reading/writing&#32;on&#32;the&#32;CAN&#32;bus</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00053"/><link linkend="__c_a_n_8h_1afef5641c16f897cbe9fc00682fb749ed">00053</link> CAN_message_t&#32;<link linkend="__c_a_n_8h_1afef5641c16f897cbe9fc00682fb749ed">CAN_msg</link>;
<anchor xml:id="__c_a_n_8h_source_1l00054"/>00054 
<anchor xml:id="__c_a_n_8h_source_1l00055"/>00055 <emphasis role="comment">//&#32;if&#32;cellVoltagesReady[INDEX]&#32;is&#32;true,&#32;we&#32;have&#32;received&#32;that&#32;cell&apos;s&#32;voltage&#32;from&#32;the&#32;BMS</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00056"/>00056 <emphasis role="comment">//&#32;it&#32;is&#32;false&#32;otherwise&#32;(so&#32;we&#32;know&#32;when&#32;we&#32;have&#32;collected&#32;all&#32;distinct&#32;cell&#32;voltages</emphasis>
<anchor xml:id="__c_a_n_8h_source_1l00057"/><link linkend="__c_a_n_8h_1af798cac38f8c00111b4be880f47d8020">00057</link> <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="__c_a_n_8h_1af798cac38f8c00111b4be880f47d8020">cellVoltagesReady</link>[<link linkend="__c_a_n_8h_1aedb50849ed846717c3096b10fb75d537">BMS_CELLS</link>]&#32;=&#32;{<emphasis role="keyword">false</emphasis>};
<anchor xml:id="__c_a_n_8h_source_1l00058"/>00058 
<anchor xml:id="__c_a_n_8h_source_1l00059"/>00059 
<anchor xml:id="__c_a_n_8h_source_1l00060"/><link linkend="_struct_motor_stats">00060</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00061"/><link linkend="_struct_motor_stats_1a7e3450d33d8be341dea374a2fcafd257">00061</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_motor_stats_1a7e3450d33d8be341dea374a2fcafd257">RPM</link>;
<anchor xml:id="__c_a_n_8h_source_1l00062"/><link linkend="_struct_motor_stats_1ab207f3db0daa47cabc8644495bca6d4e">00062</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_motor_stats_1ab207f3db0daa47cabc8644495bca6d4e">motorCurrent</link>;
<anchor xml:id="__c_a_n_8h_source_1l00063"/><link linkend="_struct_motor_stats_1acf61562c6e2b1fdcdb548a04bff1f0aa">00063</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_motor_stats_1acf61562c6e2b1fdcdb548a04bff1f0aa">motorControllerBatteryVoltage</link>;
<anchor xml:id="__c_a_n_8h_source_1l00064"/><link linkend="_struct_motor_stats_1af51eb591d7b6b57838499e55d5f2828b">00064</link> &#32;&#32;<emphasis role="keywordtype">int</emphasis>*&#32;<link linkend="_struct_motor_stats_1af51eb591d7b6b57838499e55d5f2828b">errorMessage</link>;
<anchor xml:id="__c_a_n_8h_source_1l00065"/>00065 }&#32;<link linkend="_struct_motor_stats">MotorStats</link>;
<anchor xml:id="__c_a_n_8h_source_1l00066"/>00066 
<anchor xml:id="__c_a_n_8h_source_1l00067"/><link linkend="_struct_motor_temps">00067</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00068"/><link linkend="_struct_motor_temps_1acd9280e84ed18ff75d285e1377c01443">00068</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_motor_temps_1acd9280e84ed18ff75d285e1377c01443">throttle</link>;
<anchor xml:id="__c_a_n_8h_source_1l00069"/><link linkend="_struct_motor_temps_1a1c8b1bb77f968573fe2d1af0a0815d35">00069</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_motor_temps_1a1c8b1bb77f968573fe2d1af0a0815d35">motorControllerTemperature</link>;
<anchor xml:id="__c_a_n_8h_source_1l00070"/><link linkend="_struct_motor_temps_1ad9864aa48ce76c5965919c459cc6e9b7">00070</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_motor_temps_1ad9864aa48ce76c5965919c459cc6e9b7">motorTemperature</link>;
<anchor xml:id="__c_a_n_8h_source_1l00071"/><link linkend="_struct_motor_temps_1aeb45f993f33820d44f9f4d1f02cf0f13">00071</link> &#32;&#32;<emphasis role="keywordtype">byte</emphasis>*&#32;<link linkend="_struct_motor_temps_1aeb45f993f33820d44f9f4d1f02cf0f13">controllerStatus</link>;
<anchor xml:id="__c_a_n_8h_source_1l00072"/>00072 }&#32;<link linkend="_struct_motor_temps">MotorTemps</link>;
<anchor xml:id="__c_a_n_8h_source_1l00073"/>00073 
<anchor xml:id="__c_a_n_8h_source_1l00074"/><link linkend="_struct_charge_controller_stats">00074</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00075"/><link linkend="_struct_charge_controller_stats_1a16a3123ac01bcd73faa3a97e6ec4a774">00075</link> &#32;&#32;<emphasis role="keywordtype">byte</emphasis>*&#32;<link linkend="_struct_charge_controller_stats_1a16a3123ac01bcd73faa3a97e6ec4a774">en</link>;
<anchor xml:id="__c_a_n_8h_source_1l00076"/><link linkend="_struct_charge_controller_stats_1a928012799250fc25ea8510f4b5a3f873">00076</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_charge_controller_stats_1a928012799250fc25ea8510f4b5a3f873">chargeVoltage</link>;
<anchor xml:id="__c_a_n_8h_source_1l00077"/><link linkend="_struct_charge_controller_stats_1ae130510a45203d35d88f44253b5837cb">00077</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_charge_controller_stats_1ae130510a45203d35d88f44253b5837cb">chargeCurrent</link>;
<anchor xml:id="__c_a_n_8h_source_1l00078"/>00078 }&#32;<link linkend="_struct_charge_controller_stats">ChargeControllerStats</link>;
<anchor xml:id="__c_a_n_8h_source_1l00079"/>00079 
<anchor xml:id="__c_a_n_8h_source_1l00080"/><link linkend="_struct_charger_stats">00080</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00081"/><link linkend="_struct_charger_stats_1ace07d9acd921d4f06f44ff347591d32b">00081</link> &#32;&#32;<emphasis role="keywordtype">byte</emphasis>*&#32;<link linkend="_struct_charger_stats_1ace07d9acd921d4f06f44ff347591d32b">statusFlag</link>;
<anchor xml:id="__c_a_n_8h_source_1l00082"/><link linkend="_struct_charger_stats_1a35334daccd006a7cdbb635e1ac8bed14">00082</link> &#32;&#32;<emphasis role="keywordtype">byte</emphasis>*&#32;<link linkend="_struct_charger_stats_1a35334daccd006a7cdbb635e1ac8bed14">chargeFlag</link>;
<anchor xml:id="__c_a_n_8h_source_1l00083"/><link linkend="_struct_charger_stats_1aae5124f4063e787f9d7b838235f66d79">00083</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_charger_stats_1aae5124f4063e787f9d7b838235f66d79">outputVoltage</link>;
<anchor xml:id="__c_a_n_8h_source_1l00084"/><link linkend="_struct_charger_stats_1a0bafa595413f23895c8e4c55a64da3aa">00084</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_charger_stats_1a0bafa595413f23895c8e4c55a64da3aa">outputCurrent</link>;
<anchor xml:id="__c_a_n_8h_source_1l00085"/><link linkend="_struct_charger_stats_1a404624494d0facf36c3928f337eb4e87">00085</link> &#32;&#32;int8_t*&#32;<link linkend="_struct_charger_stats_1a404624494d0facf36c3928f337eb4e87">chargerTemp</link>;
<anchor xml:id="__c_a_n_8h_source_1l00086"/>00086 }&#32;<link linkend="_struct_charger_stats">ChargerStats</link>;
<anchor xml:id="__c_a_n_8h_source_1l00087"/>00087 
<anchor xml:id="__c_a_n_8h_source_1l00088"/><link linkend="_struct_b_m_s_status">00088</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00089"/><link linkend="_struct_b_m_s_status_1acab09ac12be3be24bce0abc90862dacd">00089</link> &#32;&#32;<emphasis role="keywordtype">int</emphasis>*&#32;<link linkend="_struct_b_m_s_status_1acab09ac12be3be24bce0abc90862dacd">bms_status_flag</link>;
<anchor xml:id="__c_a_n_8h_source_1l00090"/><link linkend="_struct_b_m_s_status_1a02b6f2e9d6f9655e47184007195c7265">00090</link> &#32;&#32;<emphasis role="keywordtype">int</emphasis>*&#32;<link linkend="_struct_b_m_s_status_1a02b6f2e9d6f9655e47184007195c7265">bms_c_id</link>;
<anchor xml:id="__c_a_n_8h_source_1l00091"/><link linkend="_struct_b_m_s_status_1a8b316c1509dc351897db5b5726026e3e">00091</link> &#32;&#32;<emphasis role="keywordtype">int</emphasis>*&#32;<link linkend="_struct_b_m_s_status_1a8b316c1509dc351897db5b5726026e3e">bms_c_fault</link>;
<anchor xml:id="__c_a_n_8h_source_1l00092"/><link linkend="_struct_b_m_s_status_1a53663d5549fc358f1f06927c9b2c3676">00092</link> &#32;&#32;<emphasis role="keywordtype">int</emphasis>*&#32;<link linkend="_struct_b_m_s_status_1a53663d5549fc358f1f06927c9b2c3676">ltc_fault</link>;
<anchor xml:id="__c_a_n_8h_source_1l00093"/><link linkend="_struct_b_m_s_status_1aafe89416c934c33489db12fdce4d6f6e">00093</link> &#32;&#32;<emphasis role="keywordtype">int</emphasis>*&#32;<link linkend="_struct_b_m_s_status_1aafe89416c934c33489db12fdce4d6f6e">ltc_count</link>;
<anchor xml:id="__c_a_n_8h_source_1l00094"/>00094 }&#32;<link linkend="_struct_b_m_s_status">BMSStatus</link>;
<anchor xml:id="__c_a_n_8h_source_1l00095"/>00095 
<anchor xml:id="__c_a_n_8h_source_1l00096"/><link linkend="_struct_thermistor_temps">00096</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00097"/><link linkend="_struct_thermistor_temps_1a586a85cf3b40e573c835319024d7eb5b">00097</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;*<link linkend="_struct_thermistor_temps_1a586a85cf3b40e573c835319024d7eb5b">temps</link>;
<anchor xml:id="__c_a_n_8h_source_1l00098"/>00098 }&#32;<link linkend="_struct_thermistor_temps">ThermistorTemps</link>;
<anchor xml:id="__c_a_n_8h_source_1l00099"/>00099 
<anchor xml:id="__c_a_n_8h_source_1l00100"/><link linkend="_struct_cell_voltages">00100</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00101"/><link linkend="_struct_cell_voltages_1a6af0d6a1dbf317365e4fa56be6c595fc">00101</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_cell_voltages_1a6af0d6a1dbf317365e4fa56be6c595fc">cellVoltages</link>;
<anchor xml:id="__c_a_n_8h_source_1l00102"/><link linkend="_struct_cell_voltages_1a739cccc4cfe6c366e7474ae1c71097bf">00102</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>*&#32;<link linkend="_struct_cell_voltages_1a739cccc4cfe6c366e7474ae1c71097bf">seriesVoltage</link>;
<anchor xml:id="__c_a_n_8h_source_1l00103"/><link linkend="_struct_cell_voltages_1a844b5b2d0bd58e1147076ab8aacc420a">00103</link> &#32;&#32;<emphasis role="keywordtype">bool</emphasis>*&#32;<link linkend="_struct_cell_voltages_1a844b5b2d0bd58e1147076ab8aacc420a">ready</link>;
<anchor xml:id="__c_a_n_8h_source_1l00104"/>00104 }&#32;<link linkend="_struct_cell_voltages">CellVoltages</link>;
<anchor xml:id="__c_a_n_8h_source_1l00105"/>00105 
<anchor xml:id="__c_a_n_8h_source_1l00106"/><link linkend="_struct_c_a_n_task_data">00106</link> <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
<anchor xml:id="__c_a_n_8h_source_1l00107"/><link linkend="_struct_c_a_n_task_data_1a47d2113927a00ff554160b7fabfc6471">00107</link> &#32;&#32;<link linkend="_struct_motor_stats">MotorStats</link>&#32;<link linkend="_struct_c_a_n_task_data_1a47d2113927a00ff554160b7fabfc6471">motorStats</link>;
<anchor xml:id="__c_a_n_8h_source_1l00108"/><link linkend="_struct_c_a_n_task_data_1a28c4ff53f540fa92e730acfd0def5d88">00108</link> &#32;&#32;<link linkend="_struct_motor_temps">MotorTemps</link>&#32;<link linkend="_struct_c_a_n_task_data_1a28c4ff53f540fa92e730acfd0def5d88">motorTemps</link>;
<anchor xml:id="__c_a_n_8h_source_1l00109"/><link linkend="_struct_c_a_n_task_data_1a02b8e7f2fddd541dfd7b42efb7a1bbf3">00109</link> &#32;&#32;<link linkend="_struct_b_m_s_status">BMSStatus</link>&#32;<link linkend="_struct_c_a_n_task_data_1a02b8e7f2fddd541dfd7b42efb7a1bbf3">bmsStatus</link>;
<anchor xml:id="__c_a_n_8h_source_1l00110"/><link linkend="_struct_c_a_n_task_data_1a1f1f9a7c959359030e8ab98d5ecf6a57">00110</link> &#32;&#32;<link linkend="_struct_thermistor_temps">ThermistorTemps</link>&#32;<link linkend="_struct_c_a_n_task_data_1a1f1f9a7c959359030e8ab98d5ecf6a57">thermistorTemps</link>;
<anchor xml:id="__c_a_n_8h_source_1l00111"/><link linkend="_struct_c_a_n_task_data_1a3d198d3fdb7daa5117a01954825e30ad">00111</link> &#32;&#32;<link linkend="_struct_cell_voltages">CellVoltages</link>&#32;<link linkend="_struct_c_a_n_task_data_1a3d198d3fdb7daa5117a01954825e30ad">cellVoltages</link>;
<anchor xml:id="__c_a_n_8h_source_1l00112"/><link linkend="_struct_c_a_n_task_data_1a173c0fd4a49d1c2c1d01225b28d04f19">00112</link> &#32;&#32;<link linkend="_struct_charger_stats">ChargerStats</link>&#32;<link linkend="_struct_c_a_n_task_data_1a173c0fd4a49d1c2c1d01225b28d04f19">chargerStats</link>;
<anchor xml:id="__c_a_n_8h_source_1l00113"/><link linkend="_struct_c_a_n_task_data_1a541dfccdee9cf36b2252abfffbbdda41">00113</link> &#32;&#32;<link linkend="_struct_charge_controller_stats">ChargeControllerStats</link>&#32;<link linkend="_struct_c_a_n_task_data_1a541dfccdee9cf36b2252abfffbbdda41">chargeControllerStats</link>;
<anchor xml:id="__c_a_n_8h_source_1l00114"/><link linkend="_struct_c_a_n_task_data_1a3bcffb9987e3444b4e55f523b32ef119">00114</link> &#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;*<link linkend="_struct_c_a_n_task_data_1a3bcffb9987e3444b4e55f523b32ef119">seriesVoltage</link>;
<anchor xml:id="__c_a_n_8h_source_1l00115"/>00115 }&#32;<link linkend="_struct_c_a_n_task_data">CANTaskData</link>;
<anchor xml:id="__c_a_n_8h_source_1l00116"/>00116 
<anchor xml:id="__c_a_n_8h_source_1l00117"/>00117 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1a785e095da30ce4993a186804102bf2ea">canTask</link>(<emphasis role="keywordtype">void</emphasis>&#32;*canData);
<anchor xml:id="__c_a_n_8h_source_1l00118"/>00118 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1a833ae6516ecb5cb3f8a7bd5adbf2bd9b">setupCAN</link>();
<anchor xml:id="__c_a_n_8h_source_1l00119"/>00119 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1acc8ad6a9a2388c904e5c2a81e263c59d">decipherEVCCStats</link>(CAN_message_t&#32;msg,&#32;<link linkend="_struct_charge_controller_stats">ChargeControllerStats</link>&#32;evccStats);
<anchor xml:id="__c_a_n_8h_source_1l00120"/>00120 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1a3e5ce0cee4895bc07047a515ac2fa8ea">decipherChargerStats</link>(CAN_message_t&#32;msg,&#32;<link linkend="_struct_charger_stats">ChargerStats</link>&#32;<link linkend="__main_8h_1aa249f1d073086c27682168bbd7dc77ee">chargerStats</link>);
<anchor xml:id="__c_a_n_8h_source_1l00121"/>00121 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1abd98b0e43fb7330bf8964d8da390810f">decodeMotorStats</link>(CAN_message_t&#32;msg,&#32;<link linkend="_struct_motor_stats">MotorStats</link>&#32;<link linkend="__main_8h_1a9eeb128a9907154869e9ffa78e065039">motorStats</link>&#32;);
<anchor xml:id="__c_a_n_8h_source_1l00122"/>00122 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1a950c51dd93e1585b49156c52113ab832">decodeMotorTemps</link>(CAN_message_t&#32;msg,&#32;<link linkend="_struct_motor_temps">MotorTemps</link>&#32;<link linkend="__main_8h_1abb61c6dc61d12b31aad7bdadd495b70a">motorTemps</link>);
<anchor xml:id="__c_a_n_8h_source_1l00123"/>00123 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1ac7f58797b08a603835f0488b5fe3fb7c">decipherBMSStatus</link>(CAN_message_t&#32;msg,&#32;<link linkend="_struct_b_m_s_status">BMSStatus</link>&#32;<link linkend="__main_8h_1ae0522609134711f92c96ffa8ed05e582">bmsStatus</link>);
<anchor xml:id="__c_a_n_8h_source_1l00124"/>00124 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1ac7f0128ba5279b58ce4917ff6d80264e">decipherCellsVoltage</link>(CAN_message_t&#32;msg,&#32;<link linkend="_struct_cell_voltages">CellVoltages</link>&#32;<link linkend="__main_8h_1afca6798677cebeeb7599ea00e1e243dd">cellVoltages</link>);
<anchor xml:id="__c_a_n_8h_source_1l00125"/>00125 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1a11cd027f4ad6ca2a6b9a860a07fb8e41">decipherThermistors</link>(CAN_message_t&#32;msg,&#32;<link linkend="_struct_thermistor_temps">ThermistorTemps</link>&#32;<link linkend="__main_8h_1a18571448b101f12a60457d717dc4f953">thermistorTemps</link>);
<anchor xml:id="__c_a_n_8h_source_1l00126"/>00126 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1afd1fb5329197c4478969008e0ee42f90">calculateSeriesVoltage</link>(<link linkend="_struct_cell_voltages">CellVoltages</link>&#32;cellVs);
<anchor xml:id="__c_a_n_8h_source_1l00127"/>00127 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1ab92f5f7e74cba4411e9f1c6f32a720a5">checkCAN</link>(<link linkend="_struct_c_a_n_task_data">CANTaskData</link>&#32;canData);
<anchor xml:id="__c_a_n_8h_source_1l00128"/>00128 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1a317708f05ea5de4b748e27c49e2a85e8">printBMSStatus</link>();
<anchor xml:id="__c_a_n_8h_source_1l00129"/>00129 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1ad899aaa07def0c8757bea6e9a75f878d">printMessage</link>(CAN_message_t&#32;msg);
<anchor xml:id="__c_a_n_8h_source_1l00130"/>00130 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__c_a_n_8h_1a0953b2f37f0e637d3f5fba2148109d2a">requestCellVoltages</link>(<emphasis role="keywordtype">int</emphasis>&#32;LTC);
<anchor xml:id="__c_a_n_8h_source_1l00131"/>00131 
<anchor xml:id="__c_a_n_8h_source_1l00132"/>00132 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//&#32;_CAN_H</emphasis>
</programlisting></section>
