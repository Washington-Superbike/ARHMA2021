<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__display_8ino_source" xml:lang="en-US">
<title>Display.ino</title>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__display_8ino_source_1l00001"/>00001 
<anchor xml:id="__display_8ino_source_1l00040"/>00040 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__display_8h">Display.h</link>&quot;</emphasis>
<anchor xml:id="__display_8ino_source_1l00041"/>00041 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__main_8h">Main.h</link>&quot;</emphasis>
<anchor xml:id="__display_8ino_source_1l00042"/>00042 <emphasis role="preprocessor">#include&#32;&quot;<link linkend="__free_r_t_o_s___t_e_e_n_s_y4_8h">FreeRTOS_TEENSY4.h</link>&quot;</emphasis>
<anchor xml:id="__display_8ino_source_1l00043"/>00043 
<anchor xml:id="__display_8ino_source_1l00044"/><link linkend="__display_8ino_1abbc2dd9c7d8fc4714a0379f70d919047">00044</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1abbc2dd9c7d8fc4714a0379f70d919047">displayTask</link>(<emphasis role="keywordtype">void</emphasis>&#32;*<link linkend="__main_8h_1aebb1e162e2ac30616875763e56823870">displayTaskWrap</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00045"/>00045 &#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(1)&#32;{
<anchor xml:id="__display_8ino_source_1l00051"/>00051 &#32;&#32;&#32;&#32;<link linkend="_structdisplay_task_wrapper">displayPointer</link>&#32;displayWrapper&#32;=&#32;*(<link linkend="_structdisplay_task_wrapper">displayPointer</link>&#32;*)<link linkend="__main_8h_1aebb1e162e2ac30616875763e56823870">displayTaskWrap</link>;
<anchor xml:id="__display_8ino_source_1l00052"/>00052 &#32;&#32;&#32;&#32;<link linkend="_struct_measurement_screen_data_struct">MeasurementScreenData</link>&#32;test&#32;=&#32;*(displayWrapper.<link linkend="_structdisplay_task_wrapper_1a51bf468020bb98383d49a9e0e39422cc">msDataWrap</link>);
<anchor xml:id="__display_8ino_source_1l00053"/>00053 &#32;&#32;&#32;&#32;<link linkend="__display_8ino_1ad2818acb0d1eb44a804059aa40c432b3">displayUpdate</link>(*(displayWrapper.<link linkend="_structdisplay_task_wrapper_1a51bf468020bb98383d49a9e0e39422cc">msDataWrap</link>),&#32;*(displayWrapper.<link linkend="_structdisplay_task_wrapper_1acaa31854e77a95332b545bc6da5c1c22">screenDataWrap</link>));
<anchor xml:id="__display_8ino_source_1l00054"/>00054 &#32;&#32;&#32;&#32;<link linkend="__display_8ino_1a2fcaba5d0c64fb3389132dca04224211">manualScreenDataUpdater</link>();
<anchor xml:id="__display_8ino_source_1l00055"/>00055 &#32;&#32;&#32;&#32;<link linkend="_task_8h_1aa154068cecd7f31446a7a84af44ab1a3">vTaskDelay</link>((20&#32;*&#32;<link linkend="__free_r_t_o_s_config__default_8h_1a2f0258dd1e3b877e5bc013be54c2db6a">configTICK_RATE_HZ</link>)&#32;/&#32;1000);
<anchor xml:id="__display_8ino_source_1l00056"/>00056 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00057"/>00057 }
<anchor xml:id="__display_8ino_source_1l00058"/>00058 
<anchor xml:id="__display_8ino_source_1l00059"/><link linkend="__display_8h_1a756efac71e8cf83b5add1ffcb9035a20">00059</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1a756efac71e8cf83b5add1ffcb9035a20">setupDisplay</link>(<link linkend="_struct_measurement_screen_data_struct">MeasurementScreenData</link>&#32;msData,&#32;<link linkend="_struct_screen_info">Screen</link>&#32;<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00063"/>00063 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.begin();
<anchor xml:id="__display_8ino_source_1l00064"/>00064 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setRotation(1);
<anchor xml:id="__display_8ino_source_1l00065"/>00065 &#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>.<link linkend="_struct_screen_info_1abb458c47ad3635762b415e3ed4d26e97">screenType</link>&#32;==&#32;<link linkend="__display_8h_1a9d50b8f9fd58d362446e491fe902173fa0593585da9181e972974c1274d8f2b4f">DEBUG</link>){
<anchor xml:id="__display_8ino_source_1l00066"/>00066 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.fillScreen(ILI9341_WHITE);
<anchor xml:id="__display_8ino_source_1l00067"/>00067 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00068"/>00068 
<anchor xml:id="__display_8ino_source_1l00069"/>00069 &#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>.<link linkend="_struct_screen_info_1abb458c47ad3635762b415e3ed4d26e97">screenType</link>&#32;==&#32;<link linkend="__display_8h_1a9d50b8f9fd58d362446e491fe902173fac56c12ae3cd1cef7c03d814f5ef70fab">SPEEDOMETER</link>){
<anchor xml:id="__display_8ino_source_1l00070"/>00070 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.fillScreen(ILI9341_BLACK);
<anchor xml:id="__display_8ino_source_1l00071"/>00071 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00072"/>00072 
<anchor xml:id="__display_8ino_source_1l00073"/>00073 &#32;&#32;<emphasis role="comment">//PrintedData&#32;*thermTemps&#32;=&#32;&amp;printedVals[7];</emphasis>
<anchor xml:id="__display_8ino_source_1l00074"/>00074 &#32;&#32;<emphasis role="comment">//PrintedData&#32;*timeData&#32;=&#32;&amp;printedVals[11];</emphasis>
<anchor xml:id="__display_8ino_source_1l00075"/>00075 
<anchor xml:id="__display_8ino_source_1l00078"/>00078 
<anchor xml:id="__display_8ino_source_1l00079"/>00079 &#32;&#32;*<link linkend="__display_8h_1a0dbb33f8e641008d67ebd4388521ab69">batteryVoltage</link>&#32;=&#32;{1,&#32;10,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1aed564048111fa898cf8de61099391863">mainBatteryVoltage</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;Main&#32;Batt&#32;Voltage:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00080"/>00080 &#32;&#32;*<link linkend="__display_8h_1ab1f53d3b1963f27d117ab4846e36897e">motorControllerVoltage</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;1,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1a1e2df8e919bbae0941ccecfa5eb62cbe">motorControllerVoltage</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;Main&#32;Batt&#32;Voltage&#32;(Motor&#32;Controller):&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00081"/>00081 &#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;auxVolt&#32;=&#32;<link linkend="__display_8ino_1ad609934bdce8f8169cc609cb7913f507">aux_voltage_read</link>();
<anchor xml:id="__display_8ino_source_1l00082"/>00082 &#32;&#32;*<link linkend="__display_8h_1a012dded9173d07c300ffad949e96a940">auxBatteryVoltage</link>&#32;=&#32;{1,&#32;10&#32;+&#32;16&#32;*&#32;2,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;&amp;auxVolt,&#32;1,&#32;<emphasis role="stringliteral">&quot;Aux&#32;Batt&#32;Voltage:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00083"/>00083 &#32;&#32;*<link linkend="__display_8h_1a96f08d4bf70ba395b285b8d6a352bdf9">rpm</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;3,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1a032fdb5cea2670a02f48dae82cb6c5f7">RPM</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;RPM:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00084"/>00084 &#32;&#32;*<link linkend="__display_8h_1ab1eb6959a5903caaa2277b5c19bc64b8">motorTemperature</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;4,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1ac41c602ffafc714ec356ea502c8ae58a">motorTemp</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;Motor&#32;Temp:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00085"/>00085 &#32;&#32;*<link linkend="__display_8h_1ac5969222ac88224eb77bc5aa7dd0e2d0">motorCurr</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;5,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1a9685a96c491e4d8276fea2e35bc538cd">motorCurrent</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;Motor&#32;Current:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00086"/>00086 &#32;&#32;*<link linkend="__display_8h_1aec89495f1135f6268d3c23d3d89c6b05">errMessage</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;6,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;(<emphasis role="keywordtype">float</emphasis>*)&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1aa63c57e04a22b9ff0feba3172fb46e7c">errorMessage</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;Error&#32;Message:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00087"/>00087 &#32;&#32;*<link linkend="__display_8h_1a44fd669aa58c2b66ab018fd2df3e046a">chargerVolt</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;9,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1a8c456547b18cc7388d407a3fa01f770f">chargerVoltage</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;Charger&#32;Voltage:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00088"/>00088 &#32;&#32;*<link linkend="__display_8h_1ac618dcef8a9f06e79d1cbe8cb9383aa6">chargerCurr</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;10,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1ab325b90179563b0cbd69138e4faca679">chargerCurrent</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;Charger&#32;Current:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00089"/>00089 &#32;&#32;*<link linkend="__display_8h_1a940677548971e0943f36dcfa95bb8b44">bmsStatusFlag</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;11,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1ac41c602ffafc714ec356ea502c8ae58a">motorTemp</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;BMS&#32;Status&#32;Flag:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00090"/>00090 &#32;&#32;*<link linkend="__display_8h_1a1f928d9e961d6ef649cb8bc5d3178b8e">evccVolt</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;12,&#32;<link linkend="__display_8h_1accd27f9824631fc37bcb677947f1f63a">DEFAULT_X_POS</link>,&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>,&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>,&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1ac41c602ffafc714ec356ea502c8ae58a">motorTemp</link>,&#32;1,&#32;<emphasis role="stringliteral">&quot;EVCC&#32;Voltage:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00091"/>00091 
<anchor xml:id="__display_8ino_source_1l00092"/>00092 &#32;&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>&#32;=&#32;{1,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;7,&#32;180,&#32;{&#32;-1,&#32;-1,&#32;-1,&#32;-1,&#32;-1,&#32;-1,&#32;-1,&#32;-1,&#32;-1,&#32;-1},&#32;(<emphasis role="keywordtype">float</emphasis>*)&#32;msData.<link linkend="_struct_measurement_screen_data_struct_1a246a330e1d725800363777a3a373f740">thermistorTemps</link>,&#32;<emphasis role="stringliteral">&quot;Thermist&#32;Temp:&#32;&quot;</emphasis>};
<anchor xml:id="__display_8ino_source_1l00093"/>00093 
<anchor xml:id="__display_8ino_source_1l00095"/>00095 &#32;&#32;<link linkend="__display_8ino_1a2b73a1c90c594f4d6e205cf19666468a">setupMeasurementScreen</link>(<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>);
<anchor xml:id="__display_8ino_source_1l00096"/>00096 }
<anchor xml:id="__display_8ino_source_1l00097"/>00097 
<anchor xml:id="__display_8ino_source_1l00098"/><link linkend="__display_8h_1ad2818acb0d1eb44a804059aa40c432b3">00098</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1ad2818acb0d1eb44a804059aa40c432b3">displayUpdate</link>(<link linkend="_struct_measurement_screen_data_struct">MeasurementScreenData</link>&#32;msData,&#32;<link linkend="_struct_screen_info">Screen</link>&#32;<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00099"/>00099 &#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>.<link linkend="_struct_screen_info_1abb458c47ad3635762b415e3ed4d26e97">screenType</link>&#32;==&#32;<link linkend="__display_8h_1a9d50b8f9fd58d362446e491fe902173fa0593585da9181e972974c1274d8f2b4f">DEBUG</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00100"/>00100 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextSize(1);
<anchor xml:id="__display_8ino_source_1l00101"/>00101 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;<link linkend="__display_8h_1a3b5584bed4734b437f2ef171dfa600e2">NUM_DATA</link>;&#32;i++)&#32;{
<anchor xml:id="__display_8ino_source_1l00102"/>00102 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].type&#32;==&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00103"/>00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;((*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].currData)&#32;!=&#32;(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].oldData)&#32;||&#32;(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].oldData)&#32;==&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00104"/>00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8ino_1a9622e737a6a548ba9f9ffcbb6ed1bb2d">eraseThenPrint</link>(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].dataX,&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].y,&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].oldData,&#32;*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].currData);
<anchor xml:id="__display_8ino_source_1l00105"/>00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].<link linkend="_struct_printed_data_struct_1ae0952f0395d23e49c6db5cbea2eca92c">oldData</link>&#32;=&#32;*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].<link linkend="_struct_printed_data_struct_1a5871bcbf6b81d6ba842d61fe62349ff4">currData</link>;
<anchor xml:id="__display_8ino_source_1l00106"/>00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00107"/>00107 &#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00108"/>00108 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00109"/>00109 
<anchor xml:id="__display_8ino_source_1l00110"/>00110 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Printing&#32;out&#32;thermistor&#32;data</emphasis>
<anchor xml:id="__display_8ino_source_1l00111"/>00111 &#32;&#32;&#32;&#32;<link linkend="__display_8ino_1a48f20f2ac1788f51aaa3aefd6c8ccb96">thermiDataPrint</link>(<emphasis role="keyword">true</emphasis>);
<anchor xml:id="__display_8ino_source_1l00112"/>00112 
<anchor xml:id="__display_8ino_source_1l00113"/>00113 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Printing&#32;out&#32;time&#32;data</emphasis>
<anchor xml:id="__display_8ino_source_1l00114"/>00114 &#32;&#32;&#32;&#32;<link linkend="__display_8ino_1a1faaa02c20faaddf6f9e78859eb3cb0c">timePrint</link>();
<anchor xml:id="__display_8ino_source_1l00115"/>00115 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00116"/>00116 
<anchor xml:id="__display_8ino_source_1l00117"/>00117 &#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>.<link linkend="_struct_screen_info_1abb458c47ad3635762b415e3ed4d26e97">screenType</link>&#32;==&#32;<link linkend="__display_8h_1a9d50b8f9fd58d362446e491fe902173fac56c12ae3cd1cef7c03d814f5ef70fab">SPEEDOMETER</link>){
<anchor xml:id="__display_8ino_source_1l00118"/>00118 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextColor(ILI9341_WHITE);
<anchor xml:id="__display_8ino_source_1l00119"/>00119 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextSize(8);
<anchor xml:id="__display_8ino_source_1l00120"/>00120 &#32;&#32;&#32;&#32;String&#32;newString&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__display_8ino_source_1l00121"/>00121 &#32;&#32;&#32;&#32;String&#32;oldString&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__display_8ino_source_1l00122"/>00122 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;((*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].currData)&#32;!=&#32;(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].oldData)&#32;||&#32;(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].oldData)&#32;==&#32;<link linkend="__display_8h_1aa6b0be19465bc73429fbaf37ea6d7f5d">DEFAULT_FLOAT</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00123"/>00123 <emphasis role="comment">//&#32;&#32;&#32;&#32;Gear&#32;ratio,&#32;48&#32;teeth&#32;in&#32;the&#32;back&#32;wheel&#32;sprocoket.&#32;16&#32;on&#32;motor&#32;sprocket</emphasis>
<anchor xml:id="__display_8ino_source_1l00124"/>00124 <emphasis role="comment">//&#32;&#32;&#32;&#32;Diameter&#32;=&#32;0.522&#32;m,&#32;divided&#32;by&#32;60&#32;converts&#32;it&#32;into&#32;per&#32;second,&#32;so&#32;the&#32;RPM&#32;is&#32;converted&#32;to&#32;a&#32;final</emphasis>
<anchor xml:id="__display_8ino_source_1l00125"/>00125 <emphasis role="comment">//&#32;&#32;&#32;&#32;Speed&#32;of&#32;m/s</emphasis>
<anchor xml:id="__display_8ino_source_1l00126"/>00126 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;gearRatio&#32;=&#32;48/16;
<anchor xml:id="__display_8ino_source_1l00127"/>00127 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;diameterPerSecond&#32;=&#32;0.522/60;
<anchor xml:id="__display_8ino_source_1l00128"/>00128 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;pi&#32;=&#32;3.14159;
<anchor xml:id="__display_8ino_source_1l00129"/>00129 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;mphConvert&#32;=&#32;2.2369362920544;
<anchor xml:id="__display_8ino_source_1l00130"/>00130 
<anchor xml:id="__display_8ino_source_1l00131"/>00131 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;newSpeed&#32;=&#32;*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].<link linkend="_struct_printed_data_struct_1a5871bcbf6b81d6ba842d61fe62349ff4">currData</link>&#32;/&#32;gearRatio&#32;*&#32;pi&#32;*&#32;diameterPerSecond&#32;*&#32;mphConvert;
<anchor xml:id="__display_8ino_source_1l00132"/>00132 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;oldSpeed&#32;=&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].<link linkend="_struct_printed_data_struct_1ae0952f0395d23e49c6db5cbea2eca92c">oldData</link>&#32;/&#32;gearRatio&#32;*&#32;pi&#32;*&#32;diameterPerSecond&#32;*&#32;mphConvert;
<anchor xml:id="__display_8ino_source_1l00133"/>00133 &#32;&#32;&#32;&#32;&#32;&#32;newString&#32;=&#32;(String)&#32;(<emphasis role="keywordtype">int</emphasis>)&#32;newSpeed;
<anchor xml:id="__display_8ino_source_1l00134"/>00134 &#32;&#32;&#32;&#32;&#32;&#32;oldString&#32;=&#32;(String)&#32;(<emphasis role="keywordtype">int</emphasis>)&#32;oldSpeed;
<anchor xml:id="__display_8ino_source_1l00135"/>00135 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;Serial.println(newString);</emphasis>
<anchor xml:id="__display_8ino_source_1l00136"/>00136 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;Serial.println(oldString);</emphasis>
<anchor xml:id="__display_8ino_source_1l00137"/>00137 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8ino_1acf63fd6f02499d20156ded2a3582fb9b">eraseThenPrintSPEEDO</link>(175,&#32;0,&#32;oldString,&#32;newString);
<anchor xml:id="__display_8ino_source_1l00138"/>00138 &#32;&#32;&#32;&#32;&#32;&#32;newString&#32;=&#32;(String)&#32;(<emphasis role="keywordtype">int</emphasis>)&#32;*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].<link linkend="_struct_printed_data_struct_1a5871bcbf6b81d6ba842d61fe62349ff4">currData</link>;
<anchor xml:id="__display_8ino_source_1l00139"/>00139 &#32;&#32;&#32;&#32;&#32;&#32;oldString&#32;=&#32;(String)&#32;(<emphasis role="keywordtype">int</emphasis>)&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].<link linkend="_struct_printed_data_struct_1ae0952f0395d23e49c6db5cbea2eca92c">oldData</link>;
<anchor xml:id="__display_8ino_source_1l00140"/>00140 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8ino_1acf63fd6f02499d20156ded2a3582fb9b">eraseThenPrintSPEEDO</link>(120,&#32;180,&#32;oldString,&#32;newString);
<anchor xml:id="__display_8ino_source_1l00141"/>00141 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].<link linkend="_struct_printed_data_struct_1ae0952f0395d23e49c6db5cbea2eca92c">oldData</link>&#32;=&#32;*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[3].<link linkend="_struct_printed_data_struct_1a5871bcbf6b81d6ba842d61fe62349ff4">currData</link>;
<anchor xml:id="__display_8ino_source_1l00142"/>00142 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00143"/>00143 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00144"/>00144 }
<anchor xml:id="__display_8ino_source_1l00145"/>00145 
<anchor xml:id="__display_8ino_source_1l00146"/><link linkend="__display_8h_1a48f20f2ac1788f51aaa3aefd6c8ccb96">00146</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1a48f20f2ac1788f51aaa3aefd6c8ccb96">thermiDataPrint</link>(<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="__display_8ino_1a48f20f2ac1788f51aaa3aefd6c8ccb96">thermiDataPrint</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00147"/>00147 &#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__display_8ino_1a48f20f2ac1788f51aaa3aefd6c8ccb96">thermiDataPrint</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00148"/>00148 
<anchor xml:id="__display_8ino_source_1l00149"/>00149 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;sameData&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__display_8ino_source_1l00150"/>00150 &#32;&#32;&#32;&#32;String&#32;sOld,&#32;sNew;
<anchor xml:id="__display_8ino_source_1l00151"/>00151 
<anchor xml:id="__display_8ino_source_1l00152"/>00152 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;j&#32;=&#32;0;&#32;j&#32;&lt;&#32;5;&#32;j++)&#32;{
<anchor xml:id="__display_8ino_source_1l00153"/>00153 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa2f24f2c6e39a25af913ff218361f691">currData</link>[j]&#32;!=&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j])&#32;{
<anchor xml:id="__display_8ino_source_1l00154"/>00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sameData&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__display_8ino_source_1l00155"/>00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sNew.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa2f24f2c6e39a25af913ff218361f691">currData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00156"/>00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sOld.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00157"/>00157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]&#32;=&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa2f24f2c6e39a25af913ff218361f691">currData</link>[j];
<anchor xml:id="__display_8ino_source_1l00158"/>00158 &#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
<anchor xml:id="__display_8ino_source_1l00159"/>00159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sOld.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00160"/>00160 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sNew.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00161"/>00161 &#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00162"/>00162 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(j&#32;!=&#32;4)&#32;{
<anchor xml:id="__display_8ino_source_1l00163"/>00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sOld.append(<emphasis role="stringliteral">&quot;,&#32;&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00164"/>00164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sNew.append(<emphasis role="stringliteral">&quot;,&#32;&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00165"/>00165 &#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00166"/>00166 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00167"/>00167 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!sameData)&#32;{
<anchor xml:id="__display_8ino_source_1l00168"/>00168 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8ino_1a9622e737a6a548ba9f9ffcbb6ed1bb2d">eraseThenPrint</link>(<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a5f4a978790b000578684d99f8e42e747">dataX</link>,&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa3c56195d5e129e46e6820fe69eb7193">y</link>,&#32;sOld,&#32;sNew);
<anchor xml:id="__display_8ino_source_1l00169"/>00169 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00170"/>00170 &#32;&#32;&#32;&#32;sameData&#32;=&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__display_8ino_source_1l00171"/>00171 &#32;&#32;&#32;&#32;sOld&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__display_8ino_source_1l00172"/>00172 &#32;&#32;&#32;&#32;sNew&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__display_8ino_source_1l00173"/>00173 
<anchor xml:id="__display_8ino_source_1l00174"/>00174 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;j&#32;=&#32;5;&#32;j&#32;&lt;&#32;10;&#32;j++)&#32;{
<anchor xml:id="__display_8ino_source_1l00175"/>00175 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa2f24f2c6e39a25af913ff218361f691">currData</link>[j]&#32;!=&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j])&#32;{
<anchor xml:id="__display_8ino_source_1l00176"/>00176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sameData&#32;=&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__display_8ino_source_1l00177"/>00177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sNew.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa2f24f2c6e39a25af913ff218361f691">currData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00178"/>00178 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sOld.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00179"/>00179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]&#32;=&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa2f24f2c6e39a25af913ff218361f691">currData</link>[j];
<anchor xml:id="__display_8ino_source_1l00180"/>00180 &#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
<anchor xml:id="__display_8ino_source_1l00181"/>00181 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sOld.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00182"/>00182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sNew.append((<emphasis role="keywordtype">byte</emphasis>)<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a14bcd79d4f08e87c4c435ad6894f13b3">oldData</link>[j]);
<anchor xml:id="__display_8ino_source_1l00183"/>00183 &#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00184"/>00184 &#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(j&#32;!=&#32;9)&#32;{
<anchor xml:id="__display_8ino_source_1l00185"/>00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sOld.append(<emphasis role="stringliteral">&quot;,&#32;&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00186"/>00186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sNew.append(<emphasis role="stringliteral">&quot;,&#32;&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00187"/>00187 &#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00188"/>00188 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00189"/>00189 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!sameData)&#32;{
<anchor xml:id="__display_8ino_source_1l00190"/>00190 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8ino_1a9622e737a6a548ba9f9ffcbb6ed1bb2d">eraseThenPrint</link>(<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1a5f4a978790b000578684d99f8e42e747">dataX</link>,&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa3c56195d5e129e46e6820fe69eb7193">y</link>&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>,&#32;sOld,&#32;sNew);
<anchor xml:id="__display_8ino_source_1l00191"/>00191 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00192"/>00192 
<anchor xml:id="__display_8ino_source_1l00193"/>00193 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00194"/>00194 }
<anchor xml:id="__display_8ino_source_1l00195"/>00195 
<anchor xml:id="__display_8ino_source_1l00196"/><link linkend="__display_8h_1a1faaa02c20faaddf6f9e78859eb3cb0c">00196</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1a1faaa02c20faaddf6f9e78859eb3cb0c">timePrint</link>()&#32;{
<anchor xml:id="__display_8ino_source_1l00197"/>00197 &#32;&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;bufSize&#32;=&#32;255;
<anchor xml:id="__display_8ino_source_1l00198"/>00198 &#32;&#32;<emphasis role="comment">//&#32;date&#32;and&#32;time,&#32;update&#32;by&#32;erasing&#32;previous&#32;text&#32;then&#32;writing&#32;new</emphasis>
<anchor xml:id="__display_8ino_source_1l00199"/>00199 &#32;&#32;<emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;previousTime[bufSize];
<anchor xml:id="__display_8ino_source_1l00200"/>00200 &#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;buf[bufSize];
<anchor xml:id="__display_8ino_source_1l00201"/>00201 &#32;&#32;sprintf(buf,&#32;<emphasis role="stringliteral">&quot;%02u/%02u/%02u&#32;&#32;%02u:%02u:%02u&quot;</emphasis>,&#32;month(),&#32;day(),&#32;year(),&#32;hour(),&#32;minute(),&#32;second());
<anchor xml:id="__display_8ino_source_1l00202"/>00202 &#32;&#32;<link linkend="__display_8ino_1a9622e737a6a548ba9f9ffcbb6ed1bb2d">eraseThenPrint</link>(140,&#32;10&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>&#32;*&#32;(<link linkend="__display_8h_1a3b5584bed4734b437f2ef171dfa600e2">NUM_DATA</link>&#32;+&#32;2),&#32;previousTime,&#32;buf);
<anchor xml:id="__display_8ino_source_1l00203"/>00203 &#32;&#32;memcpy(previousTime,&#32;buf,&#32;bufSize);
<anchor xml:id="__display_8ino_source_1l00204"/>00204 
<anchor xml:id="__display_8ino_source_1l00205"/>00205 }
<anchor xml:id="__display_8ino_source_1l00206"/>00206 
<anchor xml:id="__display_8ino_source_1l00207"/><link linkend="__display_8h_1a2b73a1c90c594f4d6e205cf19666468a">00207</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1a2b73a1c90c594f4d6e205cf19666468a">setupMeasurementScreen</link>(<link linkend="_struct_screen_info">Screen</link>&#32;<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00211"/>00211 &#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>.<link linkend="_struct_screen_info_1abb458c47ad3635762b415e3ed4d26e97">screenType</link>&#32;==&#32;<link linkend="__display_8h_1a9d50b8f9fd58d362446e491fe902173fa0593585da9181e972974c1274d8f2b4f">DEBUG</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00212"/>00212 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextSize(1);
<anchor xml:id="__display_8ino_source_1l00213"/>00213 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextColor(ILI9341_BLACK);
<anchor xml:id="__display_8ino_source_1l00214"/>00214 
<anchor xml:id="__display_8ino_source_1l00215"/>00215 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;<link linkend="__display_8h_1a3b5584bed4734b437f2ef171dfa600e2">NUM_DATA</link>;&#32;i++)&#32;{
<anchor xml:id="__display_8ino_source_1l00216"/>00216 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].labelX,&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].y);
<anchor xml:id="__display_8ino_source_1l00217"/>00217 &#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].labelPtr);
<anchor xml:id="__display_8ino_source_1l00218"/>00218 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00219"/>00219 
<anchor xml:id="__display_8ino_source_1l00220"/>00220 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Printing&#32;out&#32;time&#32;label</emphasis>
<anchor xml:id="__display_8ino_source_1l00221"/>00221 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[10].labelX,&#32;<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[10].y&#32;+&#32;<link linkend="__display_8h_1a9705c15b04a1787116a4fbdf987e0328">VERTICAL_SCALER</link>);
<anchor xml:id="__display_8ino_source_1l00222"/>00222 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(<emphasis role="stringliteral">&quot;Time:&#32;&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00223"/>00223 
<anchor xml:id="__display_8ino_source_1l00224"/>00224 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Printing&#32;out&#32;thermistor&#32;temps&#32;label</emphasis>
<anchor xml:id="__display_8ino_source_1l00225"/>00225 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1ab6d40c87b9c92abc235f3ca8d2e68f6c">labelX</link>,&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa3c56195d5e129e46e6820fe69eb7193">y</link>);
<anchor xml:id="__display_8ino_source_1l00226"/>00226 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1acc2d2cee759f3cc546922b2a34dae206">labelPtr</link>);
<anchor xml:id="__display_8ino_source_1l00227"/>00227 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00231"/>00231 &#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__main_8h_1a25cab1c2dd63e90138b14fec27cecc4b">screen</link>.<link linkend="_struct_screen_info_1abb458c47ad3635762b415e3ed4d26e97">screenType</link>&#32;==&#32;<link linkend="__display_8h_1a9d50b8f9fd58d362446e491fe902173fac56c12ae3cd1cef7c03d814f5ef70fab">SPEEDOMETER</link>){
<anchor xml:id="__display_8ino_source_1l00232"/>00232 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextColor(ILI9341_WHITE);
<anchor xml:id="__display_8ino_source_1l00233"/>00233 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextSize(5);
<anchor xml:id="__display_8ino_source_1l00234"/>00234 
<anchor xml:id="__display_8ino_source_1l00235"/>00235 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(0,0);
<anchor xml:id="__display_8ino_source_1l00236"/>00236 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(<emphasis role="stringliteral">&quot;SPEED&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00237"/>00237 
<anchor xml:id="__display_8ino_source_1l00238"/>00238 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(220,&#32;62);
<anchor xml:id="__display_8ino_source_1l00239"/>00239 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(<emphasis role="stringliteral">&quot;mph&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00240"/>00240 
<anchor xml:id="__display_8ino_source_1l00241"/>00241 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(0,&#32;205);
<anchor xml:id="__display_8ino_source_1l00242"/>00242 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(<emphasis role="stringliteral">&quot;RPM&quot;</emphasis>);
<anchor xml:id="__display_8ino_source_1l00243"/>00243 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00244"/>00244 }
<anchor xml:id="__display_8ino_source_1l00245"/>00245 
<anchor xml:id="__display_8ino_source_1l00246"/><link linkend="__display_8h_1a9622e737a6a548ba9f9ffcbb6ed1bb2d">00246</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1a9622e737a6a548ba9f9ffcbb6ed1bb2d">eraseThenPrint</link>(<emphasis role="keywordtype">int</emphasis>&#32;xPos,&#32;<emphasis role="keywordtype">int</emphasis>&#32;yPos,&#32;String&#32;oldData,&#32;String&#32;newData)&#32;{
<anchor xml:id="__display_8ino_source_1l00249"/>00249 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(xPos,&#32;yPos);
<anchor xml:id="__display_8ino_source_1l00250"/>00250 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextColor(ILI9341_WHITE);
<anchor xml:id="__display_8ino_source_1l00251"/>00251 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(oldData);
<anchor xml:id="__display_8ino_source_1l00252"/>00252 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(xPos,&#32;yPos);
<anchor xml:id="__display_8ino_source_1l00253"/>00253 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextColor(ILI9341_BLACK);
<anchor xml:id="__display_8ino_source_1l00254"/>00254 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(newData);
<anchor xml:id="__display_8ino_source_1l00255"/>00255 }
<anchor xml:id="__display_8ino_source_1l00256"/>00256 
<anchor xml:id="__display_8ino_source_1l00257"/><link linkend="__display_8h_1acf63fd6f02499d20156ded2a3582fb9b">00257</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1acf63fd6f02499d20156ded2a3582fb9b">eraseThenPrintSPEEDO</link>(<emphasis role="keywordtype">int</emphasis>&#32;xPos,&#32;<emphasis role="keywordtype">int</emphasis>&#32;yPos,&#32;String&#32;oldData,&#32;String&#32;newData)&#32;{
<anchor xml:id="__display_8ino_source_1l00261"/>00261 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(xPos,&#32;yPos);
<anchor xml:id="__display_8ino_source_1l00262"/>00262 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextColor(ILI9341_BLACK);
<anchor xml:id="__display_8ino_source_1l00263"/>00263 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(oldData);
<anchor xml:id="__display_8ino_source_1l00264"/>00264 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setCursor(xPos,&#32;yPos);
<anchor xml:id="__display_8ino_source_1l00265"/>00265 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.setTextColor(ILI9341_WHITE);
<anchor xml:id="__display_8ino_source_1l00266"/>00266 &#32;&#32;<link linkend="__display_8h_1a41c3eb6bc5901609f9f976b594e5089f">tft</link>.print(newData);
<anchor xml:id="__display_8ino_source_1l00267"/>00267 }
<anchor xml:id="__display_8ino_source_1l00268"/>00268 
<anchor xml:id="__display_8ino_source_1l00269"/>00269 <emphasis role="comment">//void&#32;screenEraser(int&#32;scaler,&#32;int&#32;i)&#32;{</emphasis>
<anchor xml:id="__display_8ino_source_1l00270"/>00270 <emphasis role="comment">//&#32;&#32;floor(log10(abs(*printedVals[i].currData)))&#32;+&#32;1&#32;=&#32;formula&#32;to&#32;return&#32;the&#32;number&#32;of&#32;digits&#32;in&#32;the&#32;int.</emphasis>
<anchor xml:id="__display_8ino_source_1l00271"/>00271 <emphasis role="comment">//&#32;&#32;Attempting&#32;to&#32;scale&#32;the&#32;clearing&#32;rectangle&#32;based&#32;on&#32;int&#32;length,&#32;except,&#32;when&#32;int&#32;length&#32;=&#32;1,&#32;it&apos;s&#32;kinda&#32;useless.</emphasis>
<anchor xml:id="__display_8ino_source_1l00272"/>00272 <emphasis role="comment">//&#32;&#32;tft.fillRect(printedVals[i].dataX,&#32;printedVals[i].y,&#32;scaler&#32;*&#32;(floor(log10(abs(*printedVals[i].currData)))&#32;+&#32;1),&#32;8,&#32;ILI9341_WHITE);</emphasis>
<anchor xml:id="__display_8ino_source_1l00273"/>00273 <emphasis role="comment">//}</emphasis>
<anchor xml:id="__display_8ino_source_1l00274"/>00274 
<anchor xml:id="__display_8ino_source_1l00275"/><link linkend="__display_8h_1a2fcaba5d0c64fb3389132dca04224211">00275</link> <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__display_8ino_1a2fcaba5d0c64fb3389132dca04224211">manualScreenDataUpdater</link>()&#32;{
<anchor xml:id="__display_8ino_source_1l00279"/>00279 &#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;i&#32;=&#32;0;&#32;i&#32;&lt;&#32;<link linkend="__display_8h_1a3b5584bed4734b437f2ef171dfa600e2">NUM_DATA</link>;&#32;i++)&#32;{
<anchor xml:id="__display_8ino_source_1l00280"/>00280 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].type&#32;==&#32;<link linkend="__display_8h_1a0d9a05d88ef681f9a1e7d362f6f20ac1a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</link>)&#32;{
<anchor xml:id="__display_8ino_source_1l00281"/>00281 &#32;&#32;&#32;&#32;&#32;&#32;*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].<link linkend="_struct_printed_data_struct_1a5871bcbf6b81d6ba842d61fe62349ff4">currData</link>&#32;=&#32;*<link linkend="__display_8h_1a4d31440d430c0fc247733e218f14278f">printedVals</link>[i].<link linkend="_struct_printed_data_struct_1a5871bcbf6b81d6ba842d61fe62349ff4">currData</link>&#32;+&#32;1;
<anchor xml:id="__display_8ino_source_1l00282"/>00282 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;Serial.println(*printedVals[i].currData);</emphasis>
<anchor xml:id="__display_8ino_source_1l00283"/>00283 &#32;&#32;&#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00284"/>00284 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00285"/>00285 &#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(<emphasis role="keywordtype">int</emphasis>&#32;j&#32;=&#32;0;&#32;j&#32;&lt;&#32;10;&#32;j++)&#32;{
<anchor xml:id="__display_8ino_source_1l00286"/>00286 &#32;&#32;&#32;&#32;<link linkend="__display_8h_1a700ec86cb550fd4426014190222173ac">thermiData</link>.<link linkend="_struct_printed_data_therm_struct_1aa2f24f2c6e39a25af913ff218361f691">currData</link>[j]++;
<anchor xml:id="__display_8ino_source_1l00287"/>00287 &#32;&#32;}
<anchor xml:id="__display_8ino_source_1l00288"/>00288 }
<anchor xml:id="__display_8ino_source_1l00289"/>00289 
<anchor xml:id="__display_8ino_source_1l00290"/><link linkend="__display_8h_1ad609934bdce8f8169cc609cb7913f507">00290</link> <emphasis role="keywordtype">float</emphasis>&#32;<link linkend="__display_8ino_1ad609934bdce8f8169cc609cb7913f507">aux_voltage_read</link>()&#32;{
<anchor xml:id="__display_8ino_source_1l00294"/>00294 &#32;&#32;<emphasis role="keywordtype">float</emphasis>&#32;aux_voltage&#32;=&#32;3.3&#32;*&#32;analogRead(13)&#32;/&#32;1024.0;
<anchor xml:id="__display_8ino_source_1l00295"/>00295 &#32;&#32;aux_voltage&#32;*=&#32;42.0&#32;/&#32;10.0;
<anchor xml:id="__display_8ino_source_1l00296"/>00296 &#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;&#32;aux_voltage;
<anchor xml:id="__display_8ino_source_1l00297"/>00297 }
</programlisting></section>
