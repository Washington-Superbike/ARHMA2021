<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.4" xml:lang="en-US">
  <compounddef id="_main_8ino" kind="file" language="C++">
    <compoundname>Main.ino</compoundname>
    <includes refid="_main_8h" local="yes">Main.h</includes>
    <incdepgraph>
      <node id="7">
        <label>Adafruit_GFX.h</label>
      </node>
      <node id="6">
        <label>Adafruit_ILI9341.h</label>
      </node>
      <node id="3">
        <label>CAN.h</label>
        <link refid="_c_a_n_8h"/>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="12">
        <label>DataLogging.h</label>
        <link refid="_data_logging_8h"/>
        <childnode refid="13" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>Display.h</label>
        <link refid="_display_8h"/>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="10">
        <label>FreeRTOS_TEENSY4.h</label>
        <link refid="_free_r_t_o_s___t_e_e_n_s_y4_8h"/>
      </node>
      <node id="2">
        <label>Main.h</label>
        <link refid="_main_8h"/>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="14" relation="include">
        </childnode>
      </node>
      <node id="1">
        <label>Main.ino</label>
        <link refid="_main_8ino"/>
        <childnode refid="2" relation="include">
        </childnode>
      </node>
      <node id="11">
        <label>Precharge.h</label>
        <link refid="_precharge_8h"/>
        <childnode refid="10" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>FlexCAN_T4.h</label>
      </node>
      <node id="8">
        <label>SPI.h</label>
      </node>
      <node id="13">
        <label>SdFat.h</label>
      </node>
      <node id="14">
        <label>TimeLib.h</label>
      </node>
      <node id="9">
        <label>XPT2046_Touchscreen.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="func">
      <memberdef kind="function" id="_main_8ino_1a4fc01d736fe50cf5b977f755b675f11d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setup</definition>
        <argsstring>()</argsstring>
        <name>setup</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para><ref refid="_main_8h_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref> calls on all the helper methods in <ref refid="_main_8ino" kindref="compound">Main.ino</ref>. These helper methods serve to initialize all pin modes, package all variables from <ref refid="_main_8h" kindref="compound">Main.h</ref> into structs, initialize all communication protocols (as of now, just I2C), and then use those packaged structs to call on the RTOS <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref> to then send the variables off to various tasks with no issues. <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref> takes in a function name (pointer to an existing function which contains the essence of the task (these exist in the different files)), a label (string), stack size (integer/number), the parameters required for that task (a void pointer to the packaged structs from before) and lastly a task priority. There&apos;s another variable but it&apos;s kinda useless for our case and is only discussed in the detailed discussion below. <linebreak/>
 <linebreak/>
 Taking from the FreeRTOS documentation, the parameters serve the following DETAILED purposes. <linebreak/>
 <linebreak/>
pvTaskCode aka the pointer to the function used for the task. This function is usually an infinite loop with an RTOS VTaskDelay() call which will be further elaborated on within those functions in the documentation. <linebreak/>
 <linebreak/>
pcName aka the string with the funciton name. This is ususally used for debugging purposes. usStackDepth is the number of words to allocate for the task&apos;s stack (for those of you who havent had a chance to take CSE 374 or CSE 351, stack is dynamic memory, thus if any of your tasks use a lot of parameters or perform recursion, the stack size might have to be increased). Display has often been a victim of the stack size being too small in the past. <linebreak/>
 <linebreak/>
pvParameters aka the void pointer to the struct composed of the variables declared in <ref refid="_main_8h" kindref="compound">Main.h</ref>. Just a simple void pointer which is passed to the task when it executes. While passing variables and being careful with memory leaks is not too much of a concern thanks to the Arduino framework, it is still important to use good practices like this void pointer task memory unit to avoid any issues (plus RTOS just requires something to be passed through anyway). <linebreak/>
 <linebreak/>
uxPriority aka the priority at which the task will execute. Lower priority numbers indicate tasks with lower priority in execution. That is, while the RTOS is constantly swapping between your tasks, ensuring they execute properly, etc the higher priority tasks are given highest priority to run once the CPU is ready. Just makes sense really. <linebreak/>
 <linebreak/>
pxCreatedTask is a variable that is used to pass a handle to the created task outside of the <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref> function. That means the ??? IDK it&apos;s not needed. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para>First this method calls on <ref refid="_main_8h_1a31d554847ae8fdeaba2460e0395cb75f" kindref="member">setupPins()</ref> to set certain pins to output and input. This initializes how the pins will be used and interact with peripherals for the rest of the runtime of the firmware.</para>
<para>Then this method calls on <ref refid="_main_8h_1a128d10ba9e06eb69d1dfc91ffef935ba" kindref="member">initializeDisplayStructs()</ref> to map the static variables from <ref refid="_main_8h" kindref="compound">Main.h</ref> from to a struct that is used for the <ref refid="_display_8ino_1abbc2dd9c7d8fc4714a0379f70d919047" kindref="member">displayTask()</ref></para>
<para>Then this method calls on <ref refid="_main_8h_1ab91267714bdf99d7b3d177f95f484157" kindref="member">initializeCANStructs()</ref> to map the static variables from <ref refid="_main_8h" kindref="compound">Main.h</ref> from to a struct that is used for the <ref refid="_c_a_n_8h_1a785e095da30ce4993a186804102bf2ea" kindref="member">canTask()</ref></para>
<para>Then this method calls on <ref refid="_main_8h_1a797cf3c70ce7ae02bba9bfd3f6d886de" kindref="member">initializeLogStructs()</ref> to map the static variables from <ref refid="_main_8h" kindref="compound">Main.h</ref> from to a struct that is used for the <ref refid="_data_logging_8h_1a24f7ab7e53619e5770ad9acc25b9b819" kindref="member">dataLoggingTask()</ref></para>
<para>Then this method calls on <ref refid="_main_8h_1a32469c898d757b2b30c00d0546f91802" kindref="member">initializePreChargeStruct()</ref> to map the static variables from <ref refid="_main_8h" kindref="compound">Main.h</ref> from to a struct that is used for the <ref refid="_pre_charge_8ino_1a2cd6f5c27d7667dbd0b6a0bc756340a3" kindref="member">prechargeTask()</ref></para>
<para>Then this method initializes Serial communication using Serial.begin() initializing Serial at a baud rate of 115200.</para>
<para><simplesect kind="note"><para>DISCLAIMER: When first running this code on a fresh board, the time will not properly update to Pacific Standard, or any real-looking time. Instead it will update to whatever default value is on the teensy board RTC (real-time clock). Thus, to set the Teensy RTC to the real world clock, you need to upload the sketch: <linebreak/>
 <linebreak/>
File-&gt;Examples-&gt;Time-&gt;TimeTeensy3 and open the serial port. That will set the internal time to the time on the laptop I believe, or connects to the internet somehow to determine the &quot;current&quot; time. This next line calls with the statement setTime(Teensy3Clock.get()) sets the current stored time to the time stored in the internal RTC in the Teensy, allowing for Teensy time from the internal RTC (powered by the coin cell).</para>
</simplesect>
Then this method starts the SD Card and prints the status if that works.</para>
<para>Then this method calls on the <ref refid="_display_8h_1a756efac71e8cf83b5add1ffcb9035a20" kindref="member">setupDisplay()</ref> method which just initializes variables that are used by the <ref refid="_display_8ino_1abbc2dd9c7d8fc4714a0379f70d919047" kindref="member">displayTask()</ref></para>
<para>Then this method calls on the <ref refid="_c_a_n_8h_1a833ae6516ecb5cb3f8a7bd5adbf2bd9b" kindref="member">setupCAN()</ref> method which just initializes the CAN bus at a baud rate of 250000. And then begins the CAN bus.</para>
<para>Then this method calls on the <ref refid="_precharge_8h_1a5782bd590f95fb2269eb43a3d70c18f4" kindref="member">setupI2C()</ref> method which just initializes the I2C communication protocol, setting the clock to 40KHz, reading in the initial values of the gyroscope, taking ~2 seconds worth of data to calibrate.</para>
<para>The main and most important function of setup is initializing the tasks using <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref>. The details of parameters are explained in the Note at the start of <ref refid="_main_8h_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref>. The stack sizes are edited in <ref refid="_main_8h" kindref="compound">Main.h</ref> and the priorities are logically assigned for <ref refid="_precharge_8h_1a3a618d104e1f329b2aad074b706db5c9" kindref="member">preChargeTask()</ref> with highest priority 5, <ref refid="_c_a_n_8h_1a785e095da30ce4993a186804102bf2ea" kindref="member">canTask()</ref> with second highest priority 4 since it contains data that can be used to trigger Off states for <ref refid="_precharge_8h_1a3a618d104e1f329b2aad074b706db5c9" kindref="member">preChargeTask()</ref>. dataLogging() is 3, it&apos;s important to update the stored data from the race, but it&apos;s more important to shutdown the bike if batteries are dying. <ref refid="_display_8ino_1abbc2dd9c7d8fc4714a0379f70d919047" kindref="member">displayTask()</ref> is a 2 because see aforementioned reasoning for dataLogging(). <ref refid="_main_8h_1a0d7297755c0775a9b0e4f7eeeafd7c7e" kindref="member">idleTask()</ref> is a 1 ideally we never want to idle unless everything is taken care of and the teensy is that powerful.</para>
<para>Then, the firmware checks if the tasks passed, if they failed, it stays in a loop printing error creating tasks.</para>
<para>Lastly the method prints out that it will attempt to start the scheduler. If this succeeds, only lines from the task methods should know execute.</para>
<para>If this fails, the method prints out insufficient RAM and breaks.</para>
        </inbodydescription>
        <location file="Main.ino" line="64" column="6" bodyfile="Main.ino" bodystart="64" bodyend="159"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1a31d554847ae8fdeaba2460e0395cb75f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void setupPins</definition>
        <argsstring>()</argsstring>
        <name>setupPins</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para><ref refid="_main_8h_1a31d554847ae8fdeaba2460e0395cb75f" kindref="member">setupPins()</ref> calls on the Arduino library&apos;s pinMode and digitalWrite() methods to initialize pins to specific states. The variables and macros corresponding to the pin numbers are taken from the .h files of the task they serve. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
<para><simplesect kind="note"><para>NOTE: SOME OF THESE PINS MAY NEED TO BE REMOVED NOW: CONTACTOR_CLOSED_LED, CONTACTOR_PRECHARGED_LED, CLOSE_CONTACTOR_BUTTON</para>
</simplesect>
Initializes the pin corresponding to High Voltage Toggle as an input PULLUP resistor.</para>
<para>Initializes the pin corresponding to Closing the Contactor as an input PULLUP resistor.</para>
<para>Initializes the pin corresponding to the Screen reset as output and then outputs HIGH to that pin.</para>
<para>Initializes the pin corresponding to the Chip Select as output and then outputs HIGH to that pin.</para>
<para>UNSURE WHAT THE TS_CS pin is and at this point I&apos;m too scared to ask. Sets it to output and HIGH.</para>
<para>Initializes the pin corresponding to the Precharge as output and then outputs LOW to that pin.</para>
<para>Initializes the pin corresponding to the Contactor as output and then outputs LOW to that pin.</para>
<para>Initializes the pin corresponding to the Contactor Precharge-Read LED as output and then outputs LOW to that pin.</para>
<para>Initializes the pin corresponding to the Contactor-Closed LED as output and then outputs LOW to that pin.</para>
        </inbodydescription>
        <location file="Main.ino" line="161" column="6" bodyfile="Main.ino" bodystart="161" bodyend="196"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1a128d10ba9e06eb69d1dfc91ffef935ba" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void initializeDisplayStructs</definition>
        <argsstring>()</argsstring>
        <name>initializeDisplayStructs</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para><ref refid="_main_8h_1a128d10ba9e06eb69d1dfc91ffef935ba" kindref="member">initializeDisplayStructs()</ref> uses the variables: seriesVoltage, motorControllerBatteryVoltage, auxiliaryBatteryVoltage, RPM, motorControllerTemp, motorCurrent, errorMessage, chargerCurrent, chargerVoltage, bms_status_flag, evccVoltage, thTempshe and then packages them into a variable called measurementData which is taken from <ref refid="_display_8h" kindref="compound">Display.h</ref> Then the measurement data and screen variable are packaged into the displayTaskWrap variable which is passed to the displayTask as the void pointer for the task&apos;s data. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="198" column="6" bodyfile="Main.ino" bodystart="198" bodyend="205"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1a797cf3c70ce7ae02bba9bfd3f6d886de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void initializeLogStructs</definition>
        <argsstring>()</argsstring>
        <name>initializeLogStructs</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para><ref refid="_main_8h_1a797cf3c70ce7ae02bba9bfd3f6d886de" kindref="member">initializeLogStructs()</ref> uses too many variables... and it packages them into different logging variables which are then passed to the &quot;logs&quot; variable which is used by the <ref refid="_data_logging_8h_1a24f7ab7e53619e5770ad9acc25b9b819" kindref="member">dataLoggingTask()</ref>. Therefore, to add more data to datalogging or change the variables first you would need to change the corresponding variables that make up the &quot;logs&quot; varaible in <ref refid="_main_8h" kindref="compound">Main.h</ref> and then change those corresponding variables in <ref refid="_main_8h_1a797cf3c70ce7ae02bba9bfd3f6d886de" kindref="member">initializeLogStructs()</ref>. <linebreak/>
 <linebreak/>
This will be handy to the SOC team later as they implement more changes. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="207" column="6" bodyfile="Main.ino" bodystart="207" bodyend="216"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1ab91267714bdf99d7b3d177f95f484157" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void initializeCANStructs</definition>
        <argsstring>()</argsstring>
        <name>initializeCANStructs</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para><ref refid="_main_8h_1ab91267714bdf99d7b3d177f95f484157" kindref="member">initializeCANStructs()</ref> uses too many variables... and it packages them into the different variables that are all being updated by the CAN protocol. These are variables that are read in from the motorController, Battery Management System, thermistors, charger, and charge controller. These are then packaged in to the canTaskData variable which is passed to <ref refid="_c_a_n_8h_1a785e095da30ce4993a186804102bf2ea" kindref="member">canTask()</ref>. <ref refid="_c_a_n_8h_1a785e095da30ce4993a186804102bf2ea" kindref="member">canTask()</ref> updates the variable which in turn updates it for everything, allowing display to be updated with no problem (since all variables used by tasks are just pointers to the original variable that is declared in <ref refid="_main_8h" kindref="compound">Main.h</ref> and then updating one just updates everything across the board. <linebreak/>
 <linebreak/>
Update this accordingly as we add more CAN items to the bike (if we ever do). </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="218" column="6" bodyfile="Main.ino" bodystart="218" bodyend="227"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1a32469c898d757b2b30c00d0546f91802" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void initializePreChargeStruct</definition>
        <argsstring>()</argsstring>
        <name>initializePreChargeStruct</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para><ref refid="_main_8h_1a32469c898d757b2b30c00d0546f91802" kindref="member">initializePreChargeStruct()</ref> uses too many variables... It is primarily composed of the cellVoltages, bmsStatus, etc. which are used to shutdown or startup to bike depending on the situation it is in. The rest of the variables correspond to the bloated method we use for gyroscope reading. It is good for racing and is efficient enough, but if we ever run out of stuff to do please make it less bloated as described in the TODO at the top of the file. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="229" column="6" bodyfile="Main.ino" bodystart="229" bodyend="235"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1aafd615bc53c2f27720d792a6a2968209" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool get_SPI_control</definition>
        <argsstring>(unsigned int ms)</argsstring>
        <name>get_SPI_control</name>
        <param>
          <type>unsigned int</type>
          <declname>ms</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>Just a basic helper method that takes control of the spiMutex which is used as an example line in <ref refid="_main_8h_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref> but not actually used in the current <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref> methods or this RTOS in general. <linebreak/>
 <linebreak/>
The purpose of a mutex is to create a sort of indication to the RTOS that there is a specific resource being used for a specific task and to not begin any other task that interrupts this specific resource, like the pins used for the SPI protocol for this case, etc. etc. <linebreak/>
 <linebreak/>
Please read up on Mutex, etc. in the RTOS documentation to make sure you use it correctly. This is only necessary if there are different tasks with two different devices using the same communication protocol. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="237" column="6" bodyfile="Main.ino" bodystart="237" bodyend="239"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1a966fda2bc617e020cb78f814bb5514c1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void release_SPI_control</definition>
        <argsstring>(void)</argsstring>
        <name>release_SPI_control</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>Just a basic helper method releases control of the spiMutex which is used as an example line in <ref refid="_main_8h_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref> but not actually used in the current <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref> methods or this RTOS in general. <linebreak/>
 <linebreak/>
The purpose of a mutex is to create a sort of indication to the RTOS that there is a specific resource being used for a specific task and to not begin any other task that interrupts this specific resource, like the pins used for the SPI protocol for this case, etc. etc. <linebreak/>
 <linebreak/>
Please read up on Mutex, etc. in the RTOS documentation to make sure you use it correctly. This is only necessary if there are different tasks with two different devices using the same communication protocol. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="241" column="6" bodyfile="Main.ino" bodystart="241" bodyend="243"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1a3e0781915a9e0f2045e892efe59f9fdc" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>time_t</type>
        <definition>time_t getTeensy3Time</definition>
        <argsstring>()</argsstring>
        <name>getTeensy3Time</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>Just a basic helper method that returns the time variable that is stored in the teensy&apos;s RTC. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="245" column="8" bodyfile="Main.ino" bodystart="245" bodyend="248"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1a0d7297755c0775a9b0e4f7eeeafd7c7e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void idleTask</definition>
        <argsstring>(void *taskData)</argsstring>
        <name>idleTask</name>
        <param>
          <type>void *</type>
          <declname>taskData</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>Just a basic IDLE task that seems to do nothing. If triggered it blocks out for 50 CPU cycles. Doing nothing. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="250" column="6" bodyfile="Main.ino" bodystart="250" bodyend="254"/>
      </memberdef>
      <memberdef kind="function" id="_main_8ino_1afe461d27b9c48d5921c00d521181f12f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void loop</definition>
        <argsstring>()</argsstring>
        <name>loop</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>Arduino framework classic. <ref refid="_main_8h_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref> should run once. <ref refid="_main_8h_1afe461d27b9c48d5921c00d521181f12f" kindref="member">loop()</ref> should run forever. Doesn&apos;t work in our case because we run RTOS via <ref refid="_main_8h_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref>. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="Main.ino" line="256" column="6" bodyfile="Main.ino" bodystart="256" bodyend="257"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para>The main file for bike firmware. This includes <ref refid="_main_8h" kindref="compound">Main.h</ref> which in turn interconnects all files and allows for access to the global variables. These variables are then passed along to all other files as pointers. Then it runs the setup methods for all those files and then it sets up RTOS to run all the different files as individual tasks. These tasks are: datalogging, display, precharge, CAN, idle. These tasks will be further described in the documentation for their individual files. </para>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>Washington Superbike </para>
</simplesect>
<simplesect kind="date"><para>1-March-2023</para>
</simplesect>
Main. The source for the entire firmware. Utilizes Arduino&apos;s framework with void <ref refid="_main_8ino_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref> and void <ref refid="_main_8ino_1afe461d27b9c48d5921c00d521181f12f" kindref="member">loop()</ref> methods, but only void <ref refid="_main_8ino_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref> is used. Before the void <ref refid="_main_8ino_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref>, <ref refid="_main_8h" kindref="compound">Main.h</ref> is included into the file which in turn interconnects all files and allows for access to the global variables. These variables are what is eventually used in <ref refid="_main_8ino_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup()</ref> and all the helper methods, being passed along to all other files/tasks as pointers, allowing for them to updated and accessed at the same time. If <ref refid="_c_a_n_8ino" kindref="compound">Can.ino</ref> updates the motorTemperature, <ref refid="_display_8ino" kindref="compound">Display.ino</ref> has an updated value for the motorTemperature. Then the void setup will execute everything and also act as the loop. That is because the setup calls on the <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref> method from the RTOS library and then the <ref refid="task_8h_1aaf9dca1065c60abdeb309d56ab7293cb" kindref="member">vTaskStartScheduler()</ref> method which in turn abstracts everything from us and rotates between all the tasks updating them and transferring resources as required. As of now, tasks operate on different resources than each other, thus there is no need for semaphores, however, if that is changed in the future, there is an example line of creating a semaphore above the calls to the <ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate()</ref> method. The breakdown of how these methods and variables work in detail are explained further in the documentation closer for those methods and variables specifically. Please make sure to read and understand everything before you make any changes to this firmware.</para>
<para><simplesect kind="note"><para>As of 3/1/2023, I think this firmware is fully race-ready and meeting all requirements to race. Ideally, I would use HIL and their CAN interface to further test the requirements and ensure proper performance under race-communication circumstances, but I&apos;m just tired, you guys can do that while testing everything else next quarter. As of now, my goal is to create full documentation for this codebase and train up all members to be able to use it without any trouble.</para>
</simplesect>
<xrefsect id="todo_1_todo000008"><xreftitle>Todo</xreftitle><xrefdescription><para>Refine further. <linebreak/>
 <linebreak/>
 Look for redundant variables, pins, etc and remove. <linebreak/>
 <linebreak/>
 Change the name of preCharge. It&apos;s not just preCharge now, I personally like the name &quot;controls.ino&quot; and &quot;controls.h&quot;. Make sure you change the #includes as well if you do that. Please Please change &quot;preCharge&quot; or whatever it&apos;s called to not use this many global/struct variables. It doesn&apos;t need everything globalized, it can pass them as parameters and eventually output to global variables *preCharge.angle_X and *preCharge.angle_Y. <linebreak/>
 <linebreak/>
 Github tutorial: <linebreak/>
 <linebreak/>
 Syed Yasir </para>
</xrefdescription></xrefsect></para>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Includes<sp/>the<sp/>Main.h<sp/>file<sp/>which<sp/>in<sp/>includes<sp/>all<sp/>other<sp/>files<sp/>and<sp/>interconnects<sp/>all<sp/>other<sp/>files<sp/>together.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_main_8h" kindref="compound">Main.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64" refid="_main_8h_1a4fc01d736fe50cf5b977f755b675f11d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1a4fc01d736fe50cf5b977f755b675f11d" kindref="member">setup</ref>()<sp/>{</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><ref refid="_main_8ino_1a31d554847ae8fdeaba2460e0395cb75f" kindref="member">setupPins</ref>();</highlight></codeline>
<codeline lineno="69"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><ref refid="_main_8ino_1a128d10ba9e06eb69d1dfc91ffef935ba" kindref="member">initializeDisplayStructs</ref>();</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><ref refid="_main_8ino_1ab91267714bdf99d7b3d177f95f484157" kindref="member">initializeCANStructs</ref>();</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><ref refid="_main_8ino_1a797cf3c70ce7ae02bba9bfd3f6d886de" kindref="member">initializeLogStructs</ref>();</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><ref refid="_main_8ino_1a32469c898d757b2b30c00d0546f91802" kindref="member">initializePreChargeStruct</ref>();</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/>Serial.begin(115200);</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/>setTime(Teensy3Clock.get());</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/>Serial.print(</highlight><highlight class="stringliteral">&quot;Starting<sp/>SD:<sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="_data_logging_8h_1a0d2a3a213399ec010b89dede4ba4de77" kindref="member">startSD</ref>())<sp/>{</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>Serial.println(</highlight><highlight class="stringliteral">&quot;SD<sp/>successfully<sp/>started&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_main_8h_1acdca7f14bb24f1cb2aa9d0be982560b2" kindref="member">sdStarted</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="_main_8h_1acdca7f14bb24f1cb2aa9d0be982560b2" kindref="member">sdStarted</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>Serial.println(</highlight><highlight class="stringliteral">&quot;Error<sp/>starting<sp/>SD<sp/>card&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><ref refid="_display_8h_1a756efac71e8cf83b5add1ffcb9035a20" kindref="member">setupDisplay</ref>(<ref refid="_main_8h_1a962a20f8dc1ba6934fdc04e44bde53a8" kindref="member">measurementData</ref>,<sp/><ref refid="_main_8h_1a25cab1c2dd63e90138b14fec27cecc4b" kindref="member">screen</ref>);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><ref refid="_c_a_n_8h_1a833ae6516ecb5cb3f8a7bd5adbf2bd9b" kindref="member">setupCAN</ref>();</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><ref refid="_precharge_8h_1a5782bd590f95fb2269eb43a3d70c18f4" kindref="member">setupI2C</ref>(<ref refid="_main_8h_1a695dccac97a0f45cf570237e981b2b5d" kindref="member">preChargeData</ref>);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>unused<sp/>but<sp/>left<sp/>as<sp/>a<sp/>reminder<sp/>for<sp/>how<sp/>you<sp/>can<sp/>use<sp/>it</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a76c0525d646735793add25b18043e600" kindref="member">spi_mutex</ref><sp/>=<sp/>xSemaphoreCreateMutex();</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><ref refid="portmacro_8h_1a1ebe82d24d764ae4e352f7c3a9f92c01" kindref="member">portBASE_TYPE</ref><sp/>s1,<sp/>s2,<sp/>s3,<sp/>s4,<sp/>s5;</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/>s1<sp/>=<sp/><ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate</ref>(<ref refid="_pre_charge_8ino_1a2cd6f5c27d7667dbd0b6a0bc756340a3" kindref="member">prechargeTask</ref>,<sp/></highlight><highlight class="stringliteral">&quot;PRECHARGE<sp/>TASK&quot;</highlight><highlight class="normal">,<sp/><ref refid="_precharge_8h_1a0ea5dd53294d533feaeeb8731cb9739a" kindref="member">PRECHARGE_TASK_STACK_SIZE</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)&amp;<ref refid="_main_8h_1a695dccac97a0f45cf570237e981b2b5d" kindref="member">preChargeData</ref>,<sp/>5,<sp/>NULL);</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>make<sp/>sure<sp/>to<sp/>set<sp/>CAN_NODES<sp/>in<sp/>config.h</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/>s2<sp/>=<sp/><ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate</ref>(<ref refid="_c_a_n_8h_1a785e095da30ce4993a186804102bf2ea" kindref="member">canTask</ref>,<sp/></highlight><highlight class="stringliteral">&quot;CAN<sp/>TASK&quot;</highlight><highlight class="normal">,<sp/><ref refid="_c_a_n_8h_1ab9d0930315055c0f1a6511c6cc3c5524" kindref="member">CAN_TASK_STACK_SIZE</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*)&amp;<ref refid="_main_8h_1ab1d006bdd632ad57598689186c8ce63a" kindref="member">canTaskData</ref>,<sp/>4,<sp/>NULL);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/>s3<sp/>=<sp/><ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate</ref>(<ref refid="_main_8ino_1a0d7297755c0775a9b0e4f7eeeafd7c7e" kindref="member">idleTask</ref>,<sp/></highlight><highlight class="stringliteral">&quot;IDLE_TASK&quot;</highlight><highlight class="normal">,<sp/><ref refid="_free_r_t_o_s_config__default_8h_1a6c534a6cf8a00528fe0be42083484f9a" kindref="member">configMINIMAL_STACK_SIZE</ref>,<sp/>NULL,<sp/>1,<sp/>NULL);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/>s4<sp/>=<sp/><ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate</ref>(<ref refid="_display_8ino_1abbc2dd9c7d8fc4714a0379f70d919047" kindref="member">displayTask</ref>,<sp/></highlight><highlight class="stringliteral">&quot;DISPLAY<sp/>TASK&quot;</highlight><highlight class="normal">,<sp/><ref refid="_display_8h_1ac018fe3f2622c6da250fdcc3d1df54f2" kindref="member">DISPLAY_TASK_STACK_SIZE</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;<ref refid="_main_8h_1aebb1e162e2ac30616875763e56823870" kindref="member">displayTaskWrap</ref>,<sp/>2,<sp/>NULL);</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/>s5<sp/>=<sp/><ref refid="tasks_8c_1ad138d9dda4709b10d711775fa40eb1a1" kindref="member">xTaskCreate</ref>(<ref refid="_data_logging_8h_1a24f7ab7e53619e5770ad9acc25b9b819" kindref="member">dataLoggingTask</ref>,<sp/></highlight><highlight class="stringliteral">&quot;DATA<sp/>LOGGING<sp/>TASK&quot;</highlight><highlight class="normal">,<sp/><ref refid="_data_logging_8h_1af4a74cae27161ee93cd63ef70a0082e2" kindref="member">DATALOGGING_TASK_STACK_SIZE</ref>,<sp/>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">*)&amp;<ref refid="_main_8h_1af74b66e7d389be76470292071c65f556" kindref="member">dataLoggingTaskData</ref>,<sp/>3,<sp/>NULL);</highlight></codeline>
<codeline lineno="144"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(s1<sp/>!=<sp/><ref refid="projdefs_8h_1a07848d3078849bd32353c69d30a479b3" kindref="member">pdPASS</ref><sp/>||<sp/>s2<sp/>!=<sp/><ref refid="projdefs_8h_1a07848d3078849bd32353c69d30a479b3" kindref="member">pdPASS</ref><sp/>||<sp/>s3<sp/>!=<sp/><ref refid="projdefs_8h_1a07848d3078849bd32353c69d30a479b3" kindref="member">pdPASS</ref><sp/>||<sp/>s4<sp/>!=<sp/><ref refid="projdefs_8h_1a07848d3078849bd32353c69d30a479b3" kindref="member">pdPASS</ref><sp/>||<sp/>s5<sp/>!=<sp/><ref refid="projdefs_8h_1a07848d3078849bd32353c69d30a479b3" kindref="member">pdPASS</ref>)<sp/>{</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>Serial.println(</highlight><highlight class="stringliteral">&quot;Error<sp/>creating<sp/>tasks&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(1);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/>Serial.println(</highlight><highlight class="stringliteral">&quot;Starting<sp/>the<sp/>scheduler&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><ref refid="task_8h_1aaf9dca1065c60abdeb309d56ab7293cb" kindref="member">vTaskStartScheduler</ref>();</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/>Serial.println(</highlight><highlight class="stringliteral">&quot;Insufficient<sp/>RAM&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="159"><highlight class="normal">}</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161" refid="_main_8h_1a31d554847ae8fdeaba2460e0395cb75f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1a31d554847ae8fdeaba2460e0395cb75f" kindref="member">setupPins</ref>()<sp/>{</highlight></codeline>
<codeline lineno="165"></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_precharge_8h_1a4e1dc017df18faad4234012c3e88d2f6" kindref="member">HIGH_VOLTAGE_TOGGLE</ref>,<sp/>INPUT_PULLUP);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_precharge_8h_1a6f82f95bb8a6ffac8f6998ff4e5e16ec" kindref="member">CLOSE_CONTACTOR_BUTTON</ref>,<sp/>INPUT_PULLUP);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_display_8h_1ab40e9918d9141415a47e2a979292309c" kindref="member">TFT_RST</ref>,<sp/>OUTPUT);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/>digitalWrite(<ref refid="_display_8h_1ab40e9918d9141415a47e2a979292309c" kindref="member">TFT_RST</ref>,<sp/>HIGH);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_display_8h_1a5f4d46ae101b77df78010c506601c87c" kindref="member">TFT_CS</ref>,<sp/>OUTPUT);</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/>digitalWrite(<ref refid="_display_8h_1a5f4d46ae101b77df78010c506601c87c" kindref="member">TFT_CS</ref>,<sp/>HIGH);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_display_8h_1aebc2813ad338ac596f3108382916b482" kindref="member">TS_CS</ref>,<sp/>OUTPUT);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/>digitalWrite(<ref refid="_display_8h_1aebc2813ad338ac596f3108382916b482" kindref="member">TS_CS</ref>,<sp/>HIGH);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_precharge_8h_1a093dd273c900bae9cba2b32149e30eaa" kindref="member">PRECHARGE</ref>,<sp/>OUTPUT);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/>digitalWrite(<ref refid="_precharge_8h_1a093dd273c900bae9cba2b32149e30eaa" kindref="member">PRECHARGE</ref>,<sp/>LOW);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_precharge_8h_1ae1099ac76283225ff2bbbbdc0819ba4e" kindref="member">CONTACTOR</ref>,<sp/>OUTPUT);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/>digitalWrite(<ref refid="_precharge_8h_1ae1099ac76283225ff2bbbbdc0819ba4e" kindref="member">CONTACTOR</ref>,<sp/>LOW);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_precharge_8h_1a0985e25d7f0cd7e7101c2f20c1cf8e02" kindref="member">CONTACTOR_PRECHARGED_LED</ref>,<sp/>OUTPUT);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/>digitalWrite(<ref refid="_precharge_8h_1a0985e25d7f0cd7e7101c2f20c1cf8e02" kindref="member">CONTACTOR_PRECHARGED_LED</ref>,<sp/>LOW);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/>pinMode(<ref refid="_precharge_8h_1a606b28f262c8b6842a36e2f68cfc327a" kindref="member">CONTACTOR_CLOSED_LED</ref>,<sp/>OUTPUT);</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/>digitalWrite(<ref refid="_precharge_8h_1a606b28f262c8b6842a36e2f68cfc327a" kindref="member">CONTACTOR_CLOSED_LED</ref>,<sp/>LOW);</highlight></codeline>
<codeline lineno="196"><highlight class="normal">}</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198" refid="_main_8h_1a128d10ba9e06eb69d1dfc91ffef935ba" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1a128d10ba9e06eb69d1dfc91ffef935ba" kindref="member">initializeDisplayStructs</ref>()<sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a962a20f8dc1ba6934fdc04e44bde53a8" kindref="member">measurementData</ref><sp/>=<sp/>{</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>&amp;<ref refid="_main_8h_1ad2b91d0118e98c42f7d552fd5d3056ed" kindref="member">seriesVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1aca95a5d67296e1cf7fd5d05296cefc5a" kindref="member">motorControllerBatteryVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1a68edb5124f79f990fb79a9e5b7a7f1e8" kindref="member">auxiliaryBatteryVoltage</ref>,</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>&amp;<ref refid="_main_8h_1ade4e42cdef2d4a9d50b3184100ad8cba" kindref="member">RPM</ref>,<sp/>&amp;<ref refid="_main_8h_1a45af45f80ded31266ad90143957a4e5e" kindref="member">motorControllerTemp</ref>,<sp/>&amp;<ref refid="_main_8h_1a7facdac5aec018a06fc1443c2f90a66d" kindref="member">motorCurrent</ref>,<sp/>&amp;<ref refid="_main_8h_1a9e20c92d5e427acd66b85b1451d23a6b" kindref="member">errorMessage</ref>,</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>&amp;<ref refid="_main_8h_1a8b27b4284d9d4039618e5da068c2bc7f" kindref="member">chargerCurrent</ref>,<sp/>&amp;<ref refid="_main_8h_1ab11fffe9a473928798422de66fcde502" kindref="member">chargerVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1a04c234659b28f92e2eab7998b586bb4c" kindref="member">bms_status_flag</ref>,<sp/>&amp;<ref refid="_main_8h_1a10823f3996ecbd5481190d44baa7fd8e" kindref="member">evccVoltage</ref>,<sp/><ref refid="_main_8h_1a283b736b2bddfc8cbec62fe0759a9cd3" kindref="member">thTemps</ref></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/>};</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1aebb1e162e2ac30616875763e56823870" kindref="member">displayTaskWrap</ref><sp/>=<sp/>{&amp;<ref refid="_main_8h_1a962a20f8dc1ba6934fdc04e44bde53a8" kindref="member">measurementData</ref>,<sp/>&amp;<ref refid="_main_8h_1a25cab1c2dd63e90138b14fec27cecc4b" kindref="member">screen</ref>};</highlight></codeline>
<codeline lineno="205"><highlight class="normal">}</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207" refid="_main_8h_1a797cf3c70ce7ae02bba9bfd3f6d886de" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1a797cf3c70ce7ae02bba9bfd3f6d886de" kindref="member">initializeLogStructs</ref>()<sp/>{</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a74a7fab0bce9e95dfced1f40d1764e9a" kindref="member">motorTemperatureLog</ref><sp/>=<sp/>{<ref refid="_data_logging_8h_1af00c3fd81cebf8f7797f97204750ba99" kindref="member">MOTOR_TEMPERATURE_LOG</ref>,<sp/>1,<sp/>&amp;<ref refid="_main_8h_1adf4cca4e15700419969edf3ce2ffe6e6" kindref="member">motorTemp</ref>,<sp/><ref refid="_data_logging_8h_1ac2ad7f431e3446fddcd9b6b9f93c4c14a9cf4a0866224b0bb4a7a895da27c9c4c" kindref="member">FLOAT</ref>};</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1ae230e041b8d09151f97b07151fdaf38c" kindref="member">motorControllerTemperatureLog</ref><sp/>=<sp/>{<ref refid="_data_logging_8h_1ab9b2c0322cedfd8d3cd1c9dbb513b10f" kindref="member">MOTOR_CONTROLLER_TEMPERATURE_LOG</ref>,<sp/>1,<sp/>&amp;<ref refid="_main_8h_1a45af45f80ded31266ad90143957a4e5e" kindref="member">motorControllerTemp</ref>,<sp/><ref refid="_data_logging_8h_1ac2ad7f431e3446fddcd9b6b9f93c4c14a9cf4a0866224b0bb4a7a895da27c9c4c" kindref="member">FLOAT</ref>};</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a4ca34bc3c27d808ebe3480bfed4b997a" kindref="member">motorControllerVoltageLog</ref><sp/>=<sp/>{<ref refid="_data_logging_8h_1a34f856128abdd56434d31edd1f4ce549" kindref="member">MOTOR_CONTROLLER_VOLTAGE_LOG</ref>,<sp/>1,<sp/>&amp;<ref refid="_main_8h_1aca95a5d67296e1cf7fd5d05296cefc5a" kindref="member">motorControllerBatteryVoltage</ref>,<sp/><ref refid="_data_logging_8h_1ac2ad7f431e3446fddcd9b6b9f93c4c14a9cf4a0866224b0bb4a7a895da27c9c4c" kindref="member">FLOAT</ref>};</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a3ed95fd1ffa6f914d3bb19bbb59d2cd0" kindref="member">motorCurrentLog</ref><sp/>=<sp/>{<ref refid="_data_logging_8h_1aa98fafae382d16d375eeef356bf55917" kindref="member">MOTOR_CURRENT_LOG</ref>,<sp/>1,<sp/>&amp;<ref refid="_main_8h_1a7facdac5aec018a06fc1443c2f90a66d" kindref="member">motorCurrent</ref>,<sp/><ref refid="_data_logging_8h_1ac2ad7f431e3446fddcd9b6b9f93c4c14a9cf4a0866224b0bb4a7a895da27c9c4c" kindref="member">FLOAT</ref>};</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a60f914a71f12f33ed914208fbf5be838" kindref="member">rpmLog</ref><sp/>=<sp/>{<ref refid="_data_logging_8h_1af7b33dd28efa07f171323d23a5f714d2" kindref="member">RPM_LOG</ref>,<sp/>1,<sp/>&amp;<ref refid="_main_8h_1ade4e42cdef2d4a9d50b3184100ad8cba" kindref="member">RPM</ref>,<sp/><ref refid="_data_logging_8h_1ac2ad7f431e3446fddcd9b6b9f93c4c14a9cf4a0866224b0bb4a7a895da27c9c4c" kindref="member">FLOAT</ref>};</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a8941dbd7f821806a7a6f4eb705b1472b" kindref="member">thermistorLog</ref><sp/>=<sp/>{<ref refid="_data_logging_8h_1a2665461802b5e24f2d0f9d8f1ca8351d" kindref="member">THERMISTOR_LOG</ref>,<sp/>10,<sp/>&amp;<ref refid="_main_8h_1a283b736b2bddfc8cbec62fe0759a9cd3" kindref="member">thTemps</ref>[0],<sp/><ref refid="_data_logging_8h_1ac2ad7f431e3446fddcd9b6b9f93c4c14a9cf4a0866224b0bb4a7a895da27c9c4c" kindref="member">FLOAT</ref>};</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1ade498aeeb82732f18af609faa0b323cb" kindref="member">bmsVoltageLog</ref><sp/>=<sp/>{<ref refid="_data_logging_8h_1ad345eeebe4d36d151827e130e6082a1b" kindref="member">BMS_VOLTAGE_LOG</ref>,<sp/>1,<sp/>&amp;<ref refid="_main_8h_1ad2b91d0118e98c42f7d552fd5d3056ed" kindref="member">seriesVoltage</ref>,<sp/><ref refid="_data_logging_8h_1ac2ad7f431e3446fddcd9b6b9f93c4c14a9cf4a0866224b0bb4a7a895da27c9c4c" kindref="member">FLOAT</ref>};</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1af74b66e7d389be76470292071c65f556" kindref="member">dataLoggingTaskData</ref><sp/>=<sp/>{<ref refid="_main_8h_1a9462b5ab9931c29422982609bceb3fad" kindref="member">logs</ref>,<sp/>7};</highlight></codeline>
<codeline lineno="216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218" refid="_main_8h_1ab91267714bdf99d7b3d177f95f484157" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1ab91267714bdf99d7b3d177f95f484157" kindref="member">initializeCANStructs</ref>()<sp/>{</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a9eeb128a9907154869e9ffa78e065039" kindref="member">motorStats</ref><sp/>=<sp/>{&amp;<ref refid="_main_8h_1ade4e42cdef2d4a9d50b3184100ad8cba" kindref="member">RPM</ref>,<sp/>&amp;<ref refid="_main_8h_1a7facdac5aec018a06fc1443c2f90a66d" kindref="member">motorCurrent</ref>,<sp/>&amp;<ref refid="_main_8h_1aca95a5d67296e1cf7fd5d05296cefc5a" kindref="member">motorControllerBatteryVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1a9e20c92d5e427acd66b85b1451d23a6b" kindref="member">errorMessage</ref>};</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1abb61c6dc61d12b31aad7bdadd495b70a" kindref="member">motorTemps</ref><sp/>=<sp/>{&amp;<ref refid="_main_8h_1adca97acc6b0ff71f782f9c8a484a47b8" kindref="member">throttle</ref>,<sp/>&amp;<ref refid="_main_8h_1a45af45f80ded31266ad90143957a4e5e" kindref="member">motorControllerTemp</ref>,<sp/>&amp;<ref refid="_main_8h_1adf4cca4e15700419969edf3ce2ffe6e6" kindref="member">motorTemp</ref>,<sp/>&amp;<ref refid="_main_8h_1ae40c5f8677bda4442f02f482f3b50d33" kindref="member">controllerStatus</ref>};</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1afca6798677cebeeb7599ea00e1e243dd" kindref="member">cellVoltages</ref><sp/>=<sp/>{&amp;<ref refid="_main_8h_1aad0824db126321851b9f0c49a3115de5" kindref="member">cellVoltagesArr</ref>[0],<sp/>&amp;<ref refid="_main_8h_1ad2b91d0118e98c42f7d552fd5d3056ed" kindref="member">seriesVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1a006c7981abf25c0944f67d017aa5fe1f" kindref="member">cellsReady</ref>};</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1ae0522609134711f92c96ffa8ed05e582" kindref="member">bmsStatus</ref><sp/>=<sp/>{<sp/>&amp;<ref refid="_main_8h_1a04c234659b28f92e2eab7998b586bb4c" kindref="member">bms_status_flag</ref>,<sp/>&amp;<ref refid="_main_8h_1a54619d6c6a00d3268f764c33bd352ebf" kindref="member">bms_c_id</ref>,<sp/>&amp;<ref refid="_main_8h_1a668e87eca74f2126136ee32a6964005e" kindref="member">bms_c_fault</ref>,<sp/>&amp;<ref refid="_main_8h_1ae21e58b785392a0951862c107609d059" kindref="member">ltc_fault</ref>,<sp/>&amp;<ref refid="_main_8h_1a0de2096b0657dfd13ffeb3d18ae5d65c" kindref="member">ltc_count</ref>};</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a18571448b101f12a60457d717dc4f953" kindref="member">thermistorTemps</ref><sp/>=<sp/>{<ref refid="_main_8h_1a283b736b2bddfc8cbec62fe0759a9cd3" kindref="member">thTemps</ref>};</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1aa249f1d073086c27682168bbd7dc77ee" kindref="member">chargerStats</ref><sp/>=<sp/>{&amp;<ref refid="_main_8h_1a1e4f6826343fcd16576ce3c411fb2287" kindref="member">chargeFlag</ref>,<sp/>&amp;<ref refid="_main_8h_1a5613c4060f829f65acaac2bc064ae063" kindref="member">chargerStatusFlag</ref>,<sp/>&amp;<ref refid="_main_8h_1ab11fffe9a473928798422de66fcde502" kindref="member">chargerVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1a8b27b4284d9d4039618e5da068c2bc7f" kindref="member">chargerCurrent</ref>,<sp/>&amp;<ref refid="_main_8h_1a85ede348554a838fb67a3ceb3313be5b" kindref="member">chargerTemp</ref>};</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a566a5d391bca1611a2bfd1d97a1aa24c" kindref="member">chargeControllerStats</ref><sp/>=<sp/>{&amp;<ref refid="_main_8h_1a1e5e5db4f4b03ea34fcc2aaf5a334f2a" kindref="member">evccEnable</ref>,<sp/>&amp;<ref refid="_main_8h_1a10823f3996ecbd5481190d44baa7fd8e" kindref="member">evccVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1a283f91fe8cbd45a92dda13dd793bbbe0" kindref="member">evccCurrent</ref>};</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1ab1d006bdd632ad57598689186c8ce63a" kindref="member">canTaskData</ref><sp/>=<sp/>{<ref refid="_main_8h_1a9eeb128a9907154869e9ffa78e065039" kindref="member">motorStats</ref>,<sp/><ref refid="_main_8h_1abb61c6dc61d12b31aad7bdadd495b70a" kindref="member">motorTemps</ref>,<sp/><ref refid="_main_8h_1ae0522609134711f92c96ffa8ed05e582" kindref="member">bmsStatus</ref>,<sp/><ref refid="_main_8h_1a18571448b101f12a60457d717dc4f953" kindref="member">thermistorTemps</ref>,<sp/><ref refid="_main_8h_1afca6798677cebeeb7599ea00e1e243dd" kindref="member">cellVoltages</ref>,<sp/><ref refid="_main_8h_1aa249f1d073086c27682168bbd7dc77ee" kindref="member">chargerStats</ref>,<sp/><ref refid="_main_8h_1a566a5d391bca1611a2bfd1d97a1aa24c" kindref="member">chargeControllerStats</ref>,<sp/>&amp;<ref refid="_main_8h_1ad2b91d0118e98c42f7d552fd5d3056ed" kindref="member">seriesVoltage</ref>};</highlight></codeline>
<codeline lineno="227"><highlight class="normal">}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229" refid="_main_8h_1a32469c898d757b2b30c00d0546f91802" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1a32469c898d757b2b30c00d0546f91802" kindref="member">initializePreChargeStruct</ref>()<sp/>{</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><ref refid="_main_8h_1a695dccac97a0f45cf570237e981b2b5d" kindref="member">preChargeData</ref><sp/>=<sp/>{<ref refid="_main_8h_1ae0522609134711f92c96ffa8ed05e582" kindref="member">bmsStatus</ref>,<sp/><ref refid="_main_8h_1abb61c6dc61d12b31aad7bdadd495b70a" kindref="member">motorTemps</ref>,<sp/><ref refid="_main_8h_1afca6798677cebeeb7599ea00e1e243dd" kindref="member">cellVoltages</ref>,<sp/>&amp;<ref refid="_main_8h_1aca95a5d67296e1cf7fd5d05296cefc5a" kindref="member">motorControllerBatteryVoltage</ref>,<sp/>&amp;<ref refid="_main_8h_1a6cb6d63c8afdc45f4ef149e6d3750a1c" kindref="member">angle_X</ref>,<sp/>&amp;<ref refid="_main_8h_1a89aa0714a95ede6f4c623dbeb38ff019" kindref="member">angle_Y</ref>,</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="_main_8h_1a5ac66e09e5f95b02b3a99a4a2a33f0aa" kindref="member">Rate_Roll</ref>,<sp/>&amp;<ref refid="_main_8h_1ae4de7890b46aeb807d61f0b71efc9ffe" kindref="member">Rate_Pitch</ref>,<sp/>&amp;<ref refid="_main_8h_1a537fbd46985b9026ec7d6d0360d1d4d0" kindref="member">Rate_Yaw</ref>,<sp/>&amp;<ref refid="_main_8h_1a1fde90bfdfb774d5f83e5fea79c17caf" kindref="member">Rate_CalibrationRoll</ref>,<sp/>&amp;<ref refid="_main_8h_1a474d53e2608e3f1b00990ca9a7ccc64a" kindref="member">Rate_CalibrationPitch</ref>,<sp/>&amp;<ref refid="_main_8h_1af1c993c5e41ee4d2e881139640989c1a" kindref="member">Rate_CalibrationYaw</ref>,</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="_main_8h_1a94bbee6853ba61e7fa11539e15174888" kindref="member">Rate_CalibrationNumber</ref>,<sp/>&amp;<ref refid="_main_8h_1a93a21521d3b3e91006f1957dabab890b" kindref="member">Acc_X</ref>,<sp/>&amp;<ref refid="_main_8h_1a3b4304cff5611528af473a1dfb86c345" kindref="member">Acc_Y</ref>,<sp/>&amp;<ref refid="_main_8h_1a68e2313572725be66b8d99950942dfb4" kindref="member">Acc_Z</ref>,<sp/>&amp;<ref refid="_main_8h_1a6514f0d80926dc8e4aea4c92bd86c9eb" kindref="member">Angle_Roll</ref>,<sp/>&amp;<ref refid="_main_8h_1acbed8fcd71fbc60a2452c5e5e9433903" kindref="member">Angle_Pitch</ref>,<sp/>&amp;<ref refid="_main_8h_1ac2f400fd7d3933dbf70df179a012817a" kindref="member">Kalman_AngleRoll</ref>,</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<ref refid="_main_8h_1a2896dd40967cce4e4f8b65e93cc2fb9d" kindref="member">Kalman_UncertaintyAngleRoll</ref>,<sp/>&amp;<ref refid="_main_8h_1afb2a04d0a4be86d47607dea17db62631" kindref="member">Kalman_AnglePitch</ref>,<sp/>&amp;<ref refid="_main_8h_1ae5ea9a8add204eed975816b032f4db3b" kindref="member">Kalman_UncertaintyAnglePitch</ref>,<sp/><ref refid="_main_8h_1a077d47652e49b1a9d682fd58ae94ba46" kindref="member">Kalman_1DOutput</ref></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="235"><highlight class="normal">}</highlight></codeline>
<codeline lineno="236"><highlight class="normal"></highlight></codeline>
<codeline lineno="237" refid="_main_8h_1aafd615bc53c2f27720d792a6a2968209" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1aafd615bc53c2f27720d792a6a2968209" kindref="member">get_SPI_control</ref>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="_main_8h_1a548fbf99c23fe3ef17f2e1a7b0992070" kindref="member">ms</ref>)<sp/>{</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="semphr_8h_1af116e436d2a5ae5bd72dbade2b5ea930" kindref="member">xSemaphoreTake</ref>(<ref refid="_main_8h_1a76c0525d646735793add25b18043e600" kindref="member">spi_mutex</ref>,<sp/><ref refid="_main_8h_1a548fbf99c23fe3ef17f2e1a7b0992070" kindref="member">ms</ref>);</highlight></codeline>
<codeline lineno="239"><highlight class="normal">}</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241" refid="_main_8h_1a966fda2bc617e020cb78f814bb5514c1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1a966fda2bc617e020cb78f814bb5514c1" kindref="member">release_SPI_control</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><ref refid="semphr_8h_1aae55761cabfa9bf85c8f4430f78c0953" kindref="member">xSemaphoreGive</ref>(<ref refid="_main_8h_1a76c0525d646735793add25b18043e600" kindref="member">spi_mutex</ref>);</highlight></codeline>
<codeline lineno="243"><highlight class="normal">}</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245" refid="_main_8h_1a3e0781915a9e0f2045e892efe59f9fdc" refkind="member"><highlight class="normal">time_t<sp/><ref refid="_main_8ino_1a3e0781915a9e0f2045e892efe59f9fdc" kindref="member">getTeensy3Time</ref>()</highlight></codeline>
<codeline lineno="246"><highlight class="normal">{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>Teensy3Clock.get();</highlight></codeline>
<codeline lineno="248"><highlight class="normal">}</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250" refid="_main_8h_1a0d7297755c0775a9b0e4f7eeeafd7c7e" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1a0d7297755c0775a9b0e4f7eeeafd7c7e" kindref="member">idleTask</ref>(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*taskData)<sp/>{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(1)<sp/>{</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="task_8h_1aa154068cecd7f31446a7a84af44ab1a3" kindref="member">vTaskDelay</ref>((50<sp/>*<sp/><ref refid="_free_r_t_o_s_config__default_8h_1a2f0258dd1e3b877e5bc013be54c2db6a" kindref="member">configTICK_RATE_HZ</ref>)<sp/>/<sp/>1000);</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="254"><highlight class="normal">}</highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight></codeline>
<codeline lineno="256" refid="_main_8h_1afe461d27b9c48d5921c00d521181f12f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="_main_8ino_1afe461d27b9c48d5921c00d521181f12f" kindref="member">loop</ref>()<sp/>{</highlight></codeline>
<codeline lineno="257"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="Main.ino"/>
  </compounddef>
</doxygen>
